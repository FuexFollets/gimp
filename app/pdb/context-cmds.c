/* LIGMA - The GNU Image Manipulation Program
 * Copyright (C) 1995-2003 Spencer Kimball and Peter Mattis
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <https://www.gnu.org/licenses/>.
 */

/* NOTE: This file is auto-generated by pdbgen.pl. */

#include "config.h"

#include "stamp-pdbgen.h"

#include <cairo.h>

#include <gegl.h>

#include <gdk-pixbuf/gdk-pixbuf.h>

#include "libligmacolor/ligmacolor.h"
#include "libligmaconfig/ligmaconfig.h"

#include "libligmabase/ligmabase.h"

#include "pdb-types.h"

#include "core/ligma-gradients.h"
#include "core/ligma.h"
#include "core/ligmacontainer.h"
#include "core/ligmadashpattern.h"
#include "core/ligmadatafactory.h"
#include "core/ligmalist.h"
#include "core/ligmaparamspecs.h"
#include "core/ligmastrokeoptions.h"
#include "paint/ligmapaintoptions.h"
#include "plug-in/ligmaplugin-context.h"
#include "plug-in/ligmaplugin.h"
#include "plug-in/ligmapluginmanager.h"

#include "ligmapdb.h"
#include "ligmapdb-utils.h"
#include "ligmapdbcontext.h"
#include "ligmaprocedure.h"
#include "internal-procs.h"


static LigmaValueArray *
context_push_invoker (LigmaProcedure         *procedure,
                      Ligma                  *ligma,
                      LigmaContext           *context,
                      LigmaProgress          *progress,
                      const LigmaValueArray  *args,
                      GError               **error)
{
  gboolean success = TRUE;
  LigmaPlugIn *plug_in = ligma->plug_in_manager->current_plug_in;

  if (plug_in && plug_in->open)
    success = ligma_plug_in_context_push (plug_in);
  else
    success = FALSE;

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_pop_invoker (LigmaProcedure         *procedure,
                     Ligma                  *ligma,
                     LigmaContext           *context,
                     LigmaProgress          *progress,
                     const LigmaValueArray  *args,
                     GError               **error)
{
  gboolean success = TRUE;
  LigmaPlugIn *plug_in = ligma->plug_in_manager->current_plug_in;

  if (plug_in && plug_in->open)
    success = ligma_plug_in_context_pop (plug_in);
  else
    success = FALSE;

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_set_defaults_invoker (LigmaProcedure         *procedure,
                              Ligma                  *ligma,
                              LigmaContext           *context,
                              LigmaProgress          *progress,
                              const LigmaValueArray  *args,
                              GError               **error)
{
    ligma_config_reset (LIGMA_CONFIG (context));

  return ligma_procedure_get_return_values (procedure, TRUE, NULL);
}

static LigmaValueArray *
context_list_paint_methods_invoker (LigmaProcedure         *procedure,
                                    Ligma                  *ligma,
                                    LigmaContext           *context,
                                    LigmaProgress          *progress,
                                    const LigmaValueArray  *args,
                                    GError               **error)
{
  LigmaValueArray *return_vals;
  gchar **paint_methods = NULL;

  paint_methods = ligma_container_get_name_array (ligma->paint_info_list);

  return_vals = ligma_procedure_get_return_values (procedure, TRUE, NULL);
  g_value_take_boxed (ligma_value_array_index (return_vals, 1), paint_methods);

  return return_vals;
}

static LigmaValueArray *
context_get_paint_method_invoker (LigmaProcedure         *procedure,
                                  Ligma                  *ligma,
                                  LigmaContext           *context,
                                  LigmaProgress          *progress,
                                  const LigmaValueArray  *args,
                                  GError               **error)
{
  gboolean success = TRUE;
  LigmaValueArray *return_vals;
  gchar *name = NULL;

  LigmaPaintInfo *paint_info = ligma_context_get_paint_info (context);

  if (paint_info)
    name = g_strdup (ligma_object_get_name (paint_info));
  else
    success = FALSE;

  return_vals = ligma_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    g_value_take_string (ligma_value_array_index (return_vals, 1), name);

  return return_vals;
}

static LigmaValueArray *
context_set_paint_method_invoker (LigmaProcedure         *procedure,
                                  Ligma                  *ligma,
                                  LigmaContext           *context,
                                  LigmaProgress          *progress,
                                  const LigmaValueArray  *args,
                                  GError               **error)
{
  gboolean success = TRUE;
  const gchar *name;

  name = g_value_get_string (ligma_value_array_index (args, 0));

  if (success)
    {
      LigmaPaintInfo *paint_info = ligma_pdb_get_paint_info (ligma, name, error);

      if (paint_info)
        ligma_context_set_paint_info (context, paint_info);
      else
        success = FALSE;
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_stroke_method_invoker (LigmaProcedure         *procedure,
                                   Ligma                  *ligma,
                                   LigmaContext           *context,
                                   LigmaProgress          *progress,
                                   const LigmaValueArray  *args,
                                   GError               **error)
{
  LigmaValueArray *return_vals;
  gint stroke_method = 0;

  LigmaStrokeOptions *options =
    ligma_pdb_context_get_stroke_options (LIGMA_PDB_CONTEXT (context));

  g_object_get (options,
                "method", &stroke_method,
                NULL);

  return_vals = ligma_procedure_get_return_values (procedure, TRUE, NULL);
  g_value_set_enum (ligma_value_array_index (return_vals, 1), stroke_method);

  return return_vals;
}

static LigmaValueArray *
context_set_stroke_method_invoker (LigmaProcedure         *procedure,
                                   Ligma                  *ligma,
                                   LigmaContext           *context,
                                   LigmaProgress          *progress,
                                   const LigmaValueArray  *args,
                                   GError               **error)
{
  gboolean success = TRUE;
  gint stroke_method;

  stroke_method = g_value_get_enum (ligma_value_array_index (args, 0));

  if (success)
    {
      LigmaStrokeOptions *options =
        ligma_pdb_context_get_stroke_options (LIGMA_PDB_CONTEXT (context));

      g_object_set (options,
                    "method", stroke_method,
                    NULL);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_foreground_invoker (LigmaProcedure         *procedure,
                                Ligma                  *ligma,
                                LigmaContext           *context,
                                LigmaProgress          *progress,
                                const LigmaValueArray  *args,
                                GError               **error)
{
  LigmaValueArray *return_vals;
  LigmaRGB foreground = { 0.0, 0.0, 0.0, 1.0 };

  ligma_context_get_foreground (context, &foreground);
  ligma_rgb_set_alpha (&foreground, 1.0);

  return_vals = ligma_procedure_get_return_values (procedure, TRUE, NULL);
  ligma_value_set_rgb (ligma_value_array_index (return_vals, 1), &foreground);

  return return_vals;
}

static LigmaValueArray *
context_set_foreground_invoker (LigmaProcedure         *procedure,
                                Ligma                  *ligma,
                                LigmaContext           *context,
                                LigmaProgress          *progress,
                                const LigmaValueArray  *args,
                                GError               **error)
{
  gboolean success = TRUE;
  LigmaRGB foreground;

  ligma_value_get_rgb (ligma_value_array_index (args, 0), &foreground);

  if (success)
    {
      ligma_rgb_set_alpha (&foreground, 1.0);
      ligma_context_set_foreground (context, &foreground);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_background_invoker (LigmaProcedure         *procedure,
                                Ligma                  *ligma,
                                LigmaContext           *context,
                                LigmaProgress          *progress,
                                const LigmaValueArray  *args,
                                GError               **error)
{
  LigmaValueArray *return_vals;
  LigmaRGB background = { 0.0, 0.0, 0.0, 1.0 };

  ligma_context_get_background (context, &background);
  ligma_rgb_set_alpha (&background, 1.0);

  return_vals = ligma_procedure_get_return_values (procedure, TRUE, NULL);
  ligma_value_set_rgb (ligma_value_array_index (return_vals, 1), &background);

  return return_vals;
}

static LigmaValueArray *
context_set_background_invoker (LigmaProcedure         *procedure,
                                Ligma                  *ligma,
                                LigmaContext           *context,
                                LigmaProgress          *progress,
                                const LigmaValueArray  *args,
                                GError               **error)
{
  gboolean success = TRUE;
  LigmaRGB background;

  ligma_value_get_rgb (ligma_value_array_index (args, 0), &background);

  if (success)
    {
      ligma_rgb_set_alpha (&background, 1.0);
      ligma_context_set_background (context, &background);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_set_default_colors_invoker (LigmaProcedure         *procedure,
                                    Ligma                  *ligma,
                                    LigmaContext           *context,
                                    LigmaProgress          *progress,
                                    const LigmaValueArray  *args,
                                    GError               **error)
{
  ligma_context_set_default_colors (context);

  return ligma_procedure_get_return_values (procedure, TRUE, NULL);
}

static LigmaValueArray *
context_swap_colors_invoker (LigmaProcedure         *procedure,
                             Ligma                  *ligma,
                             LigmaContext           *context,
                             LigmaProgress          *progress,
                             const LigmaValueArray  *args,
                             GError               **error)
{
  ligma_context_swap_colors (context);

  return ligma_procedure_get_return_values (procedure, TRUE, NULL);
}

static LigmaValueArray *
context_get_opacity_invoker (LigmaProcedure         *procedure,
                             Ligma                  *ligma,
                             LigmaContext           *context,
                             LigmaProgress          *progress,
                             const LigmaValueArray  *args,
                             GError               **error)
{
  LigmaValueArray *return_vals;
  gdouble opacity = 0.0;

  opacity = ligma_context_get_opacity (context) * 100.0;

  return_vals = ligma_procedure_get_return_values (procedure, TRUE, NULL);
  g_value_set_double (ligma_value_array_index (return_vals, 1), opacity);

  return return_vals;
}

static LigmaValueArray *
context_set_opacity_invoker (LigmaProcedure         *procedure,
                             Ligma                  *ligma,
                             LigmaContext           *context,
                             LigmaProgress          *progress,
                             const LigmaValueArray  *args,
                             GError               **error)
{
  gboolean success = TRUE;
  gdouble opacity;

  opacity = g_value_get_double (ligma_value_array_index (args, 0));

  if (success)
    {
      ligma_context_set_opacity (context, opacity / 100.0);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_paint_mode_invoker (LigmaProcedure         *procedure,
                                Ligma                  *ligma,
                                LigmaContext           *context,
                                LigmaProgress          *progress,
                                const LigmaValueArray  *args,
                                GError               **error)
{
  LigmaValueArray *return_vals;
  gint paint_mode = 0;

  paint_mode = ligma_context_get_paint_mode (context);

  return_vals = ligma_procedure_get_return_values (procedure, TRUE, NULL);
  g_value_set_enum (ligma_value_array_index (return_vals, 1), paint_mode);

  return return_vals;
}

static LigmaValueArray *
context_set_paint_mode_invoker (LigmaProcedure         *procedure,
                                Ligma                  *ligma,
                                LigmaContext           *context,
                                LigmaProgress          *progress,
                                const LigmaValueArray  *args,
                                GError               **error)
{
  gboolean success = TRUE;
  gint paint_mode;

  paint_mode = g_value_get_enum (ligma_value_array_index (args, 0));

  if (success)
    {
      if (paint_mode == LIGMA_LAYER_MODE_OVERLAY_LEGACY)
        paint_mode = LIGMA_LAYER_MODE_SOFTLIGHT_LEGACY;

      ligma_context_set_paint_mode (context, paint_mode);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_line_width_invoker (LigmaProcedure         *procedure,
                                Ligma                  *ligma,
                                LigmaContext           *context,
                                LigmaProgress          *progress,
                                const LigmaValueArray  *args,
                                GError               **error)
{
  LigmaValueArray *return_vals;
  gdouble line_width = 0.0;

  LigmaStrokeOptions *options =
    ligma_pdb_context_get_stroke_options (LIGMA_PDB_CONTEXT (context));

  g_object_get (options,
                "width", &line_width,
                NULL);

  return_vals = ligma_procedure_get_return_values (procedure, TRUE, NULL);
  g_value_set_double (ligma_value_array_index (return_vals, 1), line_width);

  return return_vals;
}

static LigmaValueArray *
context_set_line_width_invoker (LigmaProcedure         *procedure,
                                Ligma                  *ligma,
                                LigmaContext           *context,
                                LigmaProgress          *progress,
                                const LigmaValueArray  *args,
                                GError               **error)
{
  gboolean success = TRUE;
  gdouble line_width;

  line_width = g_value_get_double (ligma_value_array_index (args, 0));

  if (success)
    {
      LigmaStrokeOptions *options =
        ligma_pdb_context_get_stroke_options (LIGMA_PDB_CONTEXT (context));

      g_object_set (options,
                    "width", line_width,
                    NULL);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_line_width_unit_invoker (LigmaProcedure         *procedure,
                                     Ligma                  *ligma,
                                     LigmaContext           *context,
                                     LigmaProgress          *progress,
                                     const LigmaValueArray  *args,
                                     GError               **error)
{
  LigmaValueArray *return_vals;
  LigmaUnit line_width_unit = LIGMA_UNIT_PIXEL;

  LigmaStrokeOptions *options =
    ligma_pdb_context_get_stroke_options (LIGMA_PDB_CONTEXT (context));

  g_object_get (options,
                "unit", &line_width_unit,
                NULL);

  return_vals = ligma_procedure_get_return_values (procedure, TRUE, NULL);
  g_value_set_int (ligma_value_array_index (return_vals, 1), line_width_unit);

  return return_vals;
}

static LigmaValueArray *
context_set_line_width_unit_invoker (LigmaProcedure         *procedure,
                                     Ligma                  *ligma,
                                     LigmaContext           *context,
                                     LigmaProgress          *progress,
                                     const LigmaValueArray  *args,
                                     GError               **error)
{
  gboolean success = TRUE;
  LigmaUnit line_width_unit;

  line_width_unit = g_value_get_int (ligma_value_array_index (args, 0));

  if (success)
    {
      LigmaStrokeOptions *options =
        ligma_pdb_context_get_stroke_options (LIGMA_PDB_CONTEXT (context));

      g_object_set (options,
                    "unit", line_width_unit,
                    NULL);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_line_cap_style_invoker (LigmaProcedure         *procedure,
                                    Ligma                  *ligma,
                                    LigmaContext           *context,
                                    LigmaProgress          *progress,
                                    const LigmaValueArray  *args,
                                    GError               **error)
{
  LigmaValueArray *return_vals;
  gint cap_style = 0;

  LigmaStrokeOptions *options =
    ligma_pdb_context_get_stroke_options (LIGMA_PDB_CONTEXT (context));

  g_object_get (options,
                "cap-style", &cap_style,
                NULL);

  return_vals = ligma_procedure_get_return_values (procedure, TRUE, NULL);
  g_value_set_enum (ligma_value_array_index (return_vals, 1), cap_style);

  return return_vals;
}

static LigmaValueArray *
context_set_line_cap_style_invoker (LigmaProcedure         *procedure,
                                    Ligma                  *ligma,
                                    LigmaContext           *context,
                                    LigmaProgress          *progress,
                                    const LigmaValueArray  *args,
                                    GError               **error)
{
  gboolean success = TRUE;
  gint cap_style;

  cap_style = g_value_get_enum (ligma_value_array_index (args, 0));

  if (success)
    {
      LigmaStrokeOptions *options =
        ligma_pdb_context_get_stroke_options (LIGMA_PDB_CONTEXT (context));

      g_object_set (options,
                    "cap-style", cap_style,
                    NULL);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_line_join_style_invoker (LigmaProcedure         *procedure,
                                     Ligma                  *ligma,
                                     LigmaContext           *context,
                                     LigmaProgress          *progress,
                                     const LigmaValueArray  *args,
                                     GError               **error)
{
  LigmaValueArray *return_vals;
  gint join_style = 0;

  LigmaStrokeOptions *options =
    ligma_pdb_context_get_stroke_options (LIGMA_PDB_CONTEXT (context));

  g_object_get (options,
                "join-style", &join_style,
                NULL);

  return_vals = ligma_procedure_get_return_values (procedure, TRUE, NULL);
  g_value_set_enum (ligma_value_array_index (return_vals, 1), join_style);

  return return_vals;
}

static LigmaValueArray *
context_set_line_join_style_invoker (LigmaProcedure         *procedure,
                                     Ligma                  *ligma,
                                     LigmaContext           *context,
                                     LigmaProgress          *progress,
                                     const LigmaValueArray  *args,
                                     GError               **error)
{
  gboolean success = TRUE;
  gint join_style;

  join_style = g_value_get_enum (ligma_value_array_index (args, 0));

  if (success)
    {
      LigmaStrokeOptions *options =
        ligma_pdb_context_get_stroke_options (LIGMA_PDB_CONTEXT (context));

      g_object_set (options,
                    "join-style", join_style,
                    NULL);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_line_miter_limit_invoker (LigmaProcedure         *procedure,
                                      Ligma                  *ligma,
                                      LigmaContext           *context,
                                      LigmaProgress          *progress,
                                      const LigmaValueArray  *args,
                                      GError               **error)
{
  LigmaValueArray *return_vals;
  gdouble miter_limit = 0.0;

  LigmaStrokeOptions *options =
    ligma_pdb_context_get_stroke_options (LIGMA_PDB_CONTEXT (context));

  g_object_get (options,
                "miter-limit", &miter_limit,
                NULL);

  return_vals = ligma_procedure_get_return_values (procedure, TRUE, NULL);
  g_value_set_double (ligma_value_array_index (return_vals, 1), miter_limit);

  return return_vals;
}

static LigmaValueArray *
context_set_line_miter_limit_invoker (LigmaProcedure         *procedure,
                                      Ligma                  *ligma,
                                      LigmaContext           *context,
                                      LigmaProgress          *progress,
                                      const LigmaValueArray  *args,
                                      GError               **error)
{
  gboolean success = TRUE;
  gdouble miter_limit;

  miter_limit = g_value_get_double (ligma_value_array_index (args, 0));

  if (success)
    {
      LigmaStrokeOptions *options =
        ligma_pdb_context_get_stroke_options (LIGMA_PDB_CONTEXT (context));

      g_object_set (options,
                    "miter-limit", miter_limit,
                    NULL);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_line_dash_offset_invoker (LigmaProcedure         *procedure,
                                      Ligma                  *ligma,
                                      LigmaContext           *context,
                                      LigmaProgress          *progress,
                                      const LigmaValueArray  *args,
                                      GError               **error)
{
  LigmaValueArray *return_vals;
  gdouble dash_offset = 0.0;

  LigmaStrokeOptions *options =
    ligma_pdb_context_get_stroke_options (LIGMA_PDB_CONTEXT (context));

  g_object_get (options,
                "dash-offset", &dash_offset,
                NULL);

  return_vals = ligma_procedure_get_return_values (procedure, TRUE, NULL);
  g_value_set_double (ligma_value_array_index (return_vals, 1), dash_offset);

  return return_vals;
}

static LigmaValueArray *
context_set_line_dash_offset_invoker (LigmaProcedure         *procedure,
                                      Ligma                  *ligma,
                                      LigmaContext           *context,
                                      LigmaProgress          *progress,
                                      const LigmaValueArray  *args,
                                      GError               **error)
{
  gboolean success = TRUE;
  gdouble dash_offset;

  dash_offset = g_value_get_double (ligma_value_array_index (args, 0));

  if (success)
    {
      LigmaStrokeOptions *options =
        ligma_pdb_context_get_stroke_options (LIGMA_PDB_CONTEXT (context));

      g_object_set (options,
                    "dash-offset", dash_offset,
                    NULL);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_line_dash_pattern_invoker (LigmaProcedure         *procedure,
                                       Ligma                  *ligma,
                                       LigmaContext           *context,
                                       LigmaProgress          *progress,
                                       const LigmaValueArray  *args,
                                       GError               **error)
{
  LigmaValueArray *return_vals;
  gint num_dashes = 0;
  gdouble *dashes = NULL;

  LigmaStrokeOptions *options =
    ligma_pdb_context_get_stroke_options (LIGMA_PDB_CONTEXT (context));

  GArray *pattern = ligma_stroke_options_get_dash_info (options);

  dashes = ligma_dash_pattern_to_double_array (pattern, &num_dashes);

  return_vals = ligma_procedure_get_return_values (procedure, TRUE, NULL);

  g_value_set_int (ligma_value_array_index (return_vals, 1), num_dashes);
  ligma_value_take_float_array (ligma_value_array_index (return_vals, 2), dashes, num_dashes);

  return return_vals;
}

static LigmaValueArray *
context_set_line_dash_pattern_invoker (LigmaProcedure         *procedure,
                                       Ligma                  *ligma,
                                       LigmaContext           *context,
                                       LigmaProgress          *progress,
                                       const LigmaValueArray  *args,
                                       GError               **error)
{
  gboolean success = TRUE;
  gint num_dashes;
  const gdouble *dashes;

  num_dashes = g_value_get_int (ligma_value_array_index (args, 0));
  dashes = ligma_value_get_float_array (ligma_value_array_index (args, 1));

  if (success)
    {
      LigmaStrokeOptions *options =
        ligma_pdb_context_get_stroke_options (LIGMA_PDB_CONTEXT (context));

      GArray *pattern = NULL;

      if (num_dashes > 0)
        {
          pattern = ligma_dash_pattern_from_double_array (num_dashes, dashes);

          if (! pattern)
            success = FALSE;
        }

      if (success)
        ligma_stroke_options_take_dash_pattern (options, LIGMA_DASH_CUSTOM, pattern);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_brush_invoker (LigmaProcedure         *procedure,
                           Ligma                  *ligma,
                           LigmaContext           *context,
                           LigmaProgress          *progress,
                           const LigmaValueArray  *args,
                           GError               **error)
{
  gboolean success = TRUE;
  LigmaValueArray *return_vals;
  gchar *name = NULL;

  LigmaBrush *brush = ligma_context_get_brush (context);

  if (brush)
    name = g_strdup (ligma_object_get_name (brush));
  else
    success = FALSE;

  return_vals = ligma_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    g_value_take_string (ligma_value_array_index (return_vals, 1), name);

  return return_vals;
}

static LigmaValueArray *
context_set_brush_invoker (LigmaProcedure         *procedure,
                           Ligma                  *ligma,
                           LigmaContext           *context,
                           LigmaProgress          *progress,
                           const LigmaValueArray  *args,
                           GError               **error)
{
  gboolean success = TRUE;
  const gchar *name;

  name = g_value_get_string (ligma_value_array_index (args, 0));

  if (success)
    {
      LigmaBrush *brush = ligma_pdb_get_brush (ligma, name, FALSE, error);

      if (brush)
        ligma_context_set_brush (context, brush);
      else
        success = FALSE;
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_brush_size_invoker (LigmaProcedure         *procedure,
                                Ligma                  *ligma,
                                LigmaContext           *context,
                                LigmaProgress          *progress,
                                const LigmaValueArray  *args,
                                GError               **error)
{
  gboolean success = TRUE;
  LigmaValueArray *return_vals;
  gdouble size = 0.0;

  /* all options should have the same value, so pick a random one */
  LigmaPaintOptions *options =
    ligma_pdb_context_get_paint_options (LIGMA_PDB_CONTEXT (context),
                                        "ligma-paintbrush");

  if (options)
    g_object_get (options,
                  "brush-size", &size,
                   NULL);
  else
    success = FALSE;

  return_vals = ligma_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    g_value_set_double (ligma_value_array_index (return_vals, 1), size);

  return return_vals;
}

static LigmaValueArray *
context_set_brush_size_invoker (LigmaProcedure         *procedure,
                                Ligma                  *ligma,
                                LigmaContext           *context,
                                LigmaProgress          *progress,
                                const LigmaValueArray  *args,
                                GError               **error)
{
  gboolean success = TRUE;
  gdouble size;

  size = g_value_get_double (ligma_value_array_index (args, 0));

  if (success)
    {
      GList *options;
      GList *list;

      options = ligma_pdb_context_get_brush_options (LIGMA_PDB_CONTEXT (context));

      for (list = options; list; list = g_list_next (list))
        g_object_set (list->data,
                      "brush-size", (gdouble) size,
                       NULL);

      g_list_free (options);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_set_brush_default_size_invoker (LigmaProcedure         *procedure,
                                        Ligma                  *ligma,
                                        LigmaContext           *context,
                                        LigmaProgress          *progress,
                                        const LigmaValueArray  *args,
                                        GError               **error)
{
  gboolean success = TRUE;
  LigmaBrush *brush = ligma_context_get_brush (context);

  if (brush)
    {
      GList *options;
      GList *list;

      options = ligma_pdb_context_get_brush_options (LIGMA_PDB_CONTEXT (context));

      for (list = options; list; list = g_list_next (list))
        ligma_paint_options_set_default_brush_size (list->data, brush);

      g_list_free (options);
    }
  else
    {
      success = FALSE;
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_brush_aspect_ratio_invoker (LigmaProcedure         *procedure,
                                        Ligma                  *ligma,
                                        LigmaContext           *context,
                                        LigmaProgress          *progress,
                                        const LigmaValueArray  *args,
                                        GError               **error)
{
  gboolean success = TRUE;
  LigmaValueArray *return_vals;
  gdouble aspect = 0.0;

  /* all options should have the same value, so pick a random one */
  LigmaPaintOptions *options =
    ligma_pdb_context_get_paint_options (LIGMA_PDB_CONTEXT (context),
                                        "ligma-paintbrush");

  if (options)
    g_object_get (options,
                  "brush-aspect-ratio", &aspect,
                  NULL);
  else
    success = FALSE;

  return_vals = ligma_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    g_value_set_double (ligma_value_array_index (return_vals, 1), aspect);

  return return_vals;
}

static LigmaValueArray *
context_set_brush_aspect_ratio_invoker (LigmaProcedure         *procedure,
                                        Ligma                  *ligma,
                                        LigmaContext           *context,
                                        LigmaProgress          *progress,
                                        const LigmaValueArray  *args,
                                        GError               **error)
{
  gboolean success = TRUE;
  gdouble aspect;

  aspect = g_value_get_double (ligma_value_array_index (args, 0));

  if (success)
    {
      GList *options;
      GList *list;

      options = ligma_pdb_context_get_brush_options (LIGMA_PDB_CONTEXT (context));

      for (list = options; list; list = g_list_next (list))
        g_object_set (list->data,
                      "brush-aspect-ratio", (gdouble) aspect,
                       NULL);

      g_list_free (options);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_brush_angle_invoker (LigmaProcedure         *procedure,
                                 Ligma                  *ligma,
                                 LigmaContext           *context,
                                 LigmaProgress          *progress,
                                 const LigmaValueArray  *args,
                                 GError               **error)
{
  gboolean success = TRUE;
  LigmaValueArray *return_vals;
  gdouble angle = 0.0;

  /* all options should have the same value, so pick a random one */
  LigmaPaintOptions *options =
    ligma_pdb_context_get_paint_options (LIGMA_PDB_CONTEXT (context),
                                        "ligma-paintbrush");

  if (options)
    g_object_get (options,
                  "brush-angle", &angle,
                  NULL);
  else
    success = FALSE;

  return_vals = ligma_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    g_value_set_double (ligma_value_array_index (return_vals, 1), angle);

  return return_vals;
}

static LigmaValueArray *
context_set_brush_angle_invoker (LigmaProcedure         *procedure,
                                 Ligma                  *ligma,
                                 LigmaContext           *context,
                                 LigmaProgress          *progress,
                                 const LigmaValueArray  *args,
                                 GError               **error)
{
  gboolean success = TRUE;
  gdouble angle;

  angle = g_value_get_double (ligma_value_array_index (args, 0));

  if (success)
    {
      GList *options;
      GList *list;

      options = ligma_pdb_context_get_brush_options (LIGMA_PDB_CONTEXT (context));

      for (list = options; list; list = g_list_next (list))
        g_object_set (list->data,
                      "brush-angle", (gdouble) angle,
                       NULL);

      g_list_free (options);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_brush_spacing_invoker (LigmaProcedure         *procedure,
                                   Ligma                  *ligma,
                                   LigmaContext           *context,
                                   LigmaProgress          *progress,
                                   const LigmaValueArray  *args,
                                   GError               **error)
{
  gboolean success = TRUE;
  LigmaValueArray *return_vals;
  gdouble spacing = 0.0;

  /* all options should have the same value, so pick a random one */
  LigmaPaintOptions *options =
    ligma_pdb_context_get_paint_options (LIGMA_PDB_CONTEXT (context),
                                        "ligma-paintbrush");

  if (options)
    g_object_get (options,
                  "brush-spacing", &spacing,
                   NULL);
  else
    success = FALSE;

  return_vals = ligma_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    g_value_set_double (ligma_value_array_index (return_vals, 1), spacing);

  return return_vals;
}

static LigmaValueArray *
context_set_brush_spacing_invoker (LigmaProcedure         *procedure,
                                   Ligma                  *ligma,
                                   LigmaContext           *context,
                                   LigmaProgress          *progress,
                                   const LigmaValueArray  *args,
                                   GError               **error)
{
  gboolean success = TRUE;
  gdouble spacing;

  spacing = g_value_get_double (ligma_value_array_index (args, 0));

  if (success)
    {
      GList *options;
      GList *list;

      options = ligma_pdb_context_get_brush_options (LIGMA_PDB_CONTEXT (context));

      for (list = options; list; list = g_list_next (list))
        g_object_set (list->data,
                      "brush-spacing", (gdouble) spacing,
                       NULL);

      g_list_free (options);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_set_brush_default_spacing_invoker (LigmaProcedure         *procedure,
                                           Ligma                  *ligma,
                                           LigmaContext           *context,
                                           LigmaProgress          *progress,
                                           const LigmaValueArray  *args,
                                           GError               **error)
{
  gboolean success = TRUE;
  LigmaBrush *brush = ligma_context_get_brush (context);

  if (brush)
    {
      GList *options;
      GList *list;

      options = ligma_pdb_context_get_brush_options (LIGMA_PDB_CONTEXT (context));

      for (list = options; list; list = g_list_next (list))
        ligma_paint_options_set_default_brush_spacing (list->data, brush);

      g_list_free (options);
    }
  else
    {
      success = FALSE;
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_brush_hardness_invoker (LigmaProcedure         *procedure,
                                    Ligma                  *ligma,
                                    LigmaContext           *context,
                                    LigmaProgress          *progress,
                                    const LigmaValueArray  *args,
                                    GError               **error)
{
  gboolean success = TRUE;
  LigmaValueArray *return_vals;
  gdouble hardness = 0.0;

  /* all options should have the same value, so pick a random one */
  LigmaPaintOptions *options =
    ligma_pdb_context_get_paint_options (LIGMA_PDB_CONTEXT (context),
                                        "ligma-paintbrush");

  if (options)
    g_object_get (options,
                  "brush-hardness", &hardness,
                   NULL);
  else
    success = FALSE;

  return_vals = ligma_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    g_value_set_double (ligma_value_array_index (return_vals, 1), hardness);

  return return_vals;
}

static LigmaValueArray *
context_set_brush_hardness_invoker (LigmaProcedure         *procedure,
                                    Ligma                  *ligma,
                                    LigmaContext           *context,
                                    LigmaProgress          *progress,
                                    const LigmaValueArray  *args,
                                    GError               **error)
{
  gboolean success = TRUE;
  gdouble hardness;

  hardness = g_value_get_double (ligma_value_array_index (args, 0));

  if (success)
    {
      GList *options;
      GList *list;

      options = ligma_pdb_context_get_brush_options (LIGMA_PDB_CONTEXT (context));

      for (list = options; list; list = g_list_next (list))
        g_object_set (list->data,
                      "brush-hardness", (gdouble) hardness,
                       NULL);

      g_list_free (options);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_set_brush_default_hardness_invoker (LigmaProcedure         *procedure,
                                            Ligma                  *ligma,
                                            LigmaContext           *context,
                                            LigmaProgress          *progress,
                                            const LigmaValueArray  *args,
                                            GError               **error)
{
  gboolean success = TRUE;
  LigmaBrush *brush = ligma_context_get_brush (context);

  if (brush)
    {
      GList *options;
      GList *list;

      options = ligma_pdb_context_get_brush_options (LIGMA_PDB_CONTEXT (context));

      for (list = options; list; list = g_list_next (list))
        ligma_paint_options_set_default_brush_hardness (list->data, brush);

      g_list_free (options);
    }
  else
    {
      success = FALSE;
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_brush_force_invoker (LigmaProcedure         *procedure,
                                 Ligma                  *ligma,
                                 LigmaContext           *context,
                                 LigmaProgress          *progress,
                                 const LigmaValueArray  *args,
                                 GError               **error)
{
  gboolean success = TRUE;
  LigmaValueArray *return_vals;
  gdouble force = 0.0;

  /* all options should have the same value, so pick a random one */
  LigmaPaintOptions *options =
    ligma_pdb_context_get_paint_options (LIGMA_PDB_CONTEXT (context),
                                        "ligma-paintbrush");

  if (options)
    g_object_get (options,
                  "brush-force", &force,
                   NULL);
  else
    success = FALSE;

  return_vals = ligma_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    g_value_set_double (ligma_value_array_index (return_vals, 1), force);

  return return_vals;
}

static LigmaValueArray *
context_set_brush_force_invoker (LigmaProcedure         *procedure,
                                 Ligma                  *ligma,
                                 LigmaContext           *context,
                                 LigmaProgress          *progress,
                                 const LigmaValueArray  *args,
                                 GError               **error)
{
  gboolean success = TRUE;
  gdouble force;

  force = g_value_get_double (ligma_value_array_index (args, 0));

  if (success)
    {
      GList *options;
      GList *list;

      options = ligma_pdb_context_get_brush_options (LIGMA_PDB_CONTEXT (context));

      for (list = options; list; list = g_list_next (list))
        g_object_set (list->data,
                      "brush-force", (gdouble) force,
                       NULL);

      g_list_free (options);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_dynamics_invoker (LigmaProcedure         *procedure,
                              Ligma                  *ligma,
                              LigmaContext           *context,
                              LigmaProgress          *progress,
                              const LigmaValueArray  *args,
                              GError               **error)
{
  gboolean success = TRUE;
  LigmaValueArray *return_vals;
  gchar *name = NULL;

  LigmaDynamics *dynamics = ligma_context_get_dynamics (context);

  if (dynamics)
    name = g_strdup (ligma_object_get_name (dynamics));
  else
    success = FALSE;

  return_vals = ligma_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    g_value_take_string (ligma_value_array_index (return_vals, 1), name);

  return return_vals;
}

static LigmaValueArray *
context_set_dynamics_invoker (LigmaProcedure         *procedure,
                              Ligma                  *ligma,
                              LigmaContext           *context,
                              LigmaProgress          *progress,
                              const LigmaValueArray  *args,
                              GError               **error)
{
  gboolean success = TRUE;
  const gchar *name;

  name = g_value_get_string (ligma_value_array_index (args, 0));

  if (success)
    {
      LigmaDynamics *dynamics = ligma_pdb_get_dynamics (ligma, name, LIGMA_PDB_DATA_ACCESS_READ, error);

      if (dynamics)
        ligma_context_set_dynamics (context, dynamics);
      else
        success = FALSE;
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_are_dynamics_enabled_invoker (LigmaProcedure         *procedure,
                                      Ligma                  *ligma,
                                      LigmaContext           *context,
                                      LigmaProgress          *progress,
                                      const LigmaValueArray  *args,
                                      GError               **error)
{
  gboolean success = TRUE;
  LigmaValueArray *return_vals;
  gboolean enabled = FALSE;

  LigmaPaintOptions *options =
    ligma_pdb_context_get_paint_options (LIGMA_PDB_CONTEXT (context),
                                        "ligma-paintbrush");

  if (options)
    enabled = ligma_paint_options_are_dynamics_enabled (options);
  else
    success = FALSE;

  return_vals = ligma_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    g_value_set_boolean (ligma_value_array_index (return_vals, 1), enabled);

  return return_vals;
}

static LigmaValueArray *
context_enable_dynamics_invoker (LigmaProcedure         *procedure,
                                 Ligma                  *ligma,
                                 LigmaContext           *context,
                                 LigmaProgress          *progress,
                                 const LigmaValueArray  *args,
                                 GError               **error)
{
  gboolean success = TRUE;
  gboolean enable;

  enable = g_value_get_boolean (ligma_value_array_index (args, 0));

  if (success)
    {
      LigmaPaintOptions *options =
        ligma_pdb_context_get_paint_options (LIGMA_PDB_CONTEXT (context),
                                            "ligma-paintbrush");

      if (options)
        ligma_paint_options_enable_dynamics (options, enable);
      else
        success = FALSE;
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_mypaint_brush_invoker (LigmaProcedure         *procedure,
                                   Ligma                  *ligma,
                                   LigmaContext           *context,
                                   LigmaProgress          *progress,
                                   const LigmaValueArray  *args,
                                   GError               **error)
{
  gboolean success = TRUE;
  LigmaValueArray *return_vals;
  gchar *name = NULL;

  LigmaMybrush *brush = ligma_context_get_mybrush (context);

  if (brush)
    name = g_strdup (ligma_object_get_name (brush));
  else
    success = FALSE;

  return_vals = ligma_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    g_value_take_string (ligma_value_array_index (return_vals, 1), name);

  return return_vals;
}

static LigmaValueArray *
context_set_mypaint_brush_invoker (LigmaProcedure         *procedure,
                                   Ligma                  *ligma,
                                   LigmaContext           *context,
                                   LigmaProgress          *progress,
                                   const LigmaValueArray  *args,
                                   GError               **error)
{
  gboolean success = TRUE;
  const gchar *name;

  name = g_value_get_string (ligma_value_array_index (args, 0));

  if (success)
    {
      LigmaMybrush *brush = ligma_pdb_get_mybrush (ligma, name, LIGMA_PDB_DATA_ACCESS_READ, error);

      if (brush)
        ligma_context_set_mybrush (context, brush);
      else
        success = FALSE;
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_pattern_invoker (LigmaProcedure         *procedure,
                             Ligma                  *ligma,
                             LigmaContext           *context,
                             LigmaProgress          *progress,
                             const LigmaValueArray  *args,
                             GError               **error)
{
  gboolean success = TRUE;
  LigmaValueArray *return_vals;
  gchar *name = NULL;

  LigmaPattern *pattern = ligma_context_get_pattern (context);

  if (pattern)
    name = g_strdup (ligma_object_get_name (pattern));
  else
    success = FALSE;

  return_vals = ligma_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    g_value_take_string (ligma_value_array_index (return_vals, 1), name);

  return return_vals;
}

static LigmaValueArray *
context_set_pattern_invoker (LigmaProcedure         *procedure,
                             Ligma                  *ligma,
                             LigmaContext           *context,
                             LigmaProgress          *progress,
                             const LigmaValueArray  *args,
                             GError               **error)
{
  gboolean success = TRUE;
  const gchar *name;

  name = g_value_get_string (ligma_value_array_index (args, 0));

  if (success)
    {
      LigmaPattern *pattern = ligma_pdb_get_pattern (ligma, name, error);

      if (pattern)
        ligma_context_set_pattern (context, pattern);
      else
        success = FALSE;
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_gradient_invoker (LigmaProcedure         *procedure,
                              Ligma                  *ligma,
                              LigmaContext           *context,
                              LigmaProgress          *progress,
                              const LigmaValueArray  *args,
                              GError               **error)
{
  gboolean success = TRUE;
  LigmaValueArray *return_vals;
  gchar *name = NULL;

  LigmaGradient *gradient = ligma_context_get_gradient (context);

  if (gradient)
    name = g_strdup (ligma_object_get_name (gradient));
  else
    success = FALSE;

  return_vals = ligma_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    g_value_take_string (ligma_value_array_index (return_vals, 1), name);

  return return_vals;
}

static LigmaValueArray *
context_set_gradient_invoker (LigmaProcedure         *procedure,
                              Ligma                  *ligma,
                              LigmaContext           *context,
                              LigmaProgress          *progress,
                              const LigmaValueArray  *args,
                              GError               **error)
{
  gboolean success = TRUE;
  const gchar *name;

  name = g_value_get_string (ligma_value_array_index (args, 0));

  if (success)
    {
      LigmaGradient *gradient = ligma_pdb_get_gradient (ligma, name, FALSE, error);

      if (gradient)
        ligma_context_set_gradient (context, gradient);
      else
        success = FALSE;
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_set_gradient_fg_bg_rgb_invoker (LigmaProcedure         *procedure,
                                        Ligma                  *ligma,
                                        LigmaContext           *context,
                                        LigmaProgress          *progress,
                                        const LigmaValueArray  *args,
                                        GError               **error)
{
  ligma_context_set_gradient (context,
                             ligma_gradients_get_fg_bg_rgb (ligma));

  return ligma_procedure_get_return_values (procedure, TRUE, NULL);
}

static LigmaValueArray *
context_set_gradient_fg_bg_hsv_cw_invoker (LigmaProcedure         *procedure,
                                           Ligma                  *ligma,
                                           LigmaContext           *context,
                                           LigmaProgress          *progress,
                                           const LigmaValueArray  *args,
                                           GError               **error)
{
  ligma_context_set_gradient (context,
                             ligma_gradients_get_fg_bg_hsv_cw (ligma));

  return ligma_procedure_get_return_values (procedure, TRUE, NULL);
}

static LigmaValueArray *
context_set_gradient_fg_bg_hsv_ccw_invoker (LigmaProcedure         *procedure,
                                            Ligma                  *ligma,
                                            LigmaContext           *context,
                                            LigmaProgress          *progress,
                                            const LigmaValueArray  *args,
                                            GError               **error)
{
  ligma_context_set_gradient (context,
                             ligma_gradients_get_fg_bg_hsv_ccw (ligma));

  return ligma_procedure_get_return_values (procedure, TRUE, NULL);
}

static LigmaValueArray *
context_set_gradient_fg_transparent_invoker (LigmaProcedure         *procedure,
                                             Ligma                  *ligma,
                                             LigmaContext           *context,
                                             LigmaProgress          *progress,
                                             const LigmaValueArray  *args,
                                             GError               **error)
{
  ligma_context_set_gradient (context,
                             ligma_gradients_get_fg_transparent (ligma));

  return ligma_procedure_get_return_values (procedure, TRUE, NULL);
}

static LigmaValueArray *
context_get_gradient_blend_color_space_invoker (LigmaProcedure         *procedure,
                                                Ligma                  *ligma,
                                                LigmaContext           *context,
                                                LigmaProgress          *progress,
                                                const LigmaValueArray  *args,
                                                GError               **error)
{
  gboolean success = TRUE;
  LigmaValueArray *return_vals;
  gint blend_color_space = 0;

  /* all options should have the same value, so pick a random one */
  LigmaPaintOptions *options =
    ligma_pdb_context_get_paint_options (LIGMA_PDB_CONTEXT (context),
                                        "ligma-paintbrush");

  if (options)
    g_object_get (options,
                  "gradient-blend-color-space", &blend_color_space,
                  NULL);
  else
    success = FALSE;

  return_vals = ligma_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    g_value_set_enum (ligma_value_array_index (return_vals, 1), blend_color_space);

  return return_vals;
}

static LigmaValueArray *
context_set_gradient_blend_color_space_invoker (LigmaProcedure         *procedure,
                                                Ligma                  *ligma,
                                                LigmaContext           *context,
                                                LigmaProgress          *progress,
                                                const LigmaValueArray  *args,
                                                GError               **error)
{
  gboolean success = TRUE;
  gint blend_color_space;

  blend_color_space = g_value_get_enum (ligma_value_array_index (args, 0));

  if (success)
    {
      LigmaContainer *options;
      GList         *list;

      options = ligma_pdb_context_get_paint_options_list (LIGMA_PDB_CONTEXT (context));

      for (list = LIGMA_LIST (options)->queue->head; list; list = g_list_next (list))
        g_object_set (list->data,
                      "gradient-blend-color-space", blend_color_space,
                       NULL);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_gradient_repeat_mode_invoker (LigmaProcedure         *procedure,
                                          Ligma                  *ligma,
                                          LigmaContext           *context,
                                          LigmaProgress          *progress,
                                          const LigmaValueArray  *args,
                                          GError               **error)
{
  gboolean success = TRUE;
  LigmaValueArray *return_vals;
  gint repeat_mode = 0;

  /* all options should have the same value, so pick a random one */
  LigmaPaintOptions *options =
    ligma_pdb_context_get_paint_options (LIGMA_PDB_CONTEXT (context),
                                        "ligma-paintbrush");

  if (options)
    g_object_get (options,
                  "gradient-repeat", &repeat_mode,
                  NULL);
  else
    success = FALSE;

  return_vals = ligma_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    g_value_set_enum (ligma_value_array_index (return_vals, 1), repeat_mode);

  return return_vals;
}

static LigmaValueArray *
context_set_gradient_repeat_mode_invoker (LigmaProcedure         *procedure,
                                          Ligma                  *ligma,
                                          LigmaContext           *context,
                                          LigmaProgress          *progress,
                                          const LigmaValueArray  *args,
                                          GError               **error)
{
  gboolean success = TRUE;
  gint repeat_mode;

  repeat_mode = g_value_get_enum (ligma_value_array_index (args, 0));

  if (success)
    {
      LigmaContainer *options;
      GList         *list;

      options = ligma_pdb_context_get_paint_options_list (LIGMA_PDB_CONTEXT (context));

      for (list = LIGMA_LIST (options)->queue->head; list; list = g_list_next (list))
        g_object_set (list->data,
                      "gradient-repeat", repeat_mode,
                       NULL);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_gradient_reverse_invoker (LigmaProcedure         *procedure,
                                      Ligma                  *ligma,
                                      LigmaContext           *context,
                                      LigmaProgress          *progress,
                                      const LigmaValueArray  *args,
                                      GError               **error)
{
  gboolean success = TRUE;
  LigmaValueArray *return_vals;
  gboolean reverse = FALSE;

  /* all options should have the same value, so pick a random one */
  LigmaPaintOptions *options =
    ligma_pdb_context_get_paint_options (LIGMA_PDB_CONTEXT (context),
                                        "ligma-paintbrush");

  if (options)
    g_object_get (options,
                  "gradient-reverse", &reverse,
                  NULL);
  else
    success = FALSE;

  return_vals = ligma_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    g_value_set_boolean (ligma_value_array_index (return_vals, 1), reverse);

  return return_vals;
}

static LigmaValueArray *
context_set_gradient_reverse_invoker (LigmaProcedure         *procedure,
                                      Ligma                  *ligma,
                                      LigmaContext           *context,
                                      LigmaProgress          *progress,
                                      const LigmaValueArray  *args,
                                      GError               **error)
{
  gboolean success = TRUE;
  gboolean reverse;

  reverse = g_value_get_boolean (ligma_value_array_index (args, 0));

  if (success)
    {
      LigmaContainer *options;
      GList         *list;

      options = ligma_pdb_context_get_paint_options_list (LIGMA_PDB_CONTEXT (context));

      for (list = LIGMA_LIST (options)->queue->head; list; list = g_list_next (list))
        g_object_set (list->data,
                      "gradient-reverse", reverse,
                       NULL);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_palette_invoker (LigmaProcedure         *procedure,
                             Ligma                  *ligma,
                             LigmaContext           *context,
                             LigmaProgress          *progress,
                             const LigmaValueArray  *args,
                             GError               **error)
{
  gboolean success = TRUE;
  LigmaValueArray *return_vals;
  gchar *name = NULL;

  LigmaPalette *palette = ligma_context_get_palette (context);

  if (palette)
    name = g_strdup (ligma_object_get_name (palette));
  else
    success = FALSE;

  return_vals = ligma_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    g_value_take_string (ligma_value_array_index (return_vals, 1), name);

  return return_vals;
}

static LigmaValueArray *
context_set_palette_invoker (LigmaProcedure         *procedure,
                             Ligma                  *ligma,
                             LigmaContext           *context,
                             LigmaProgress          *progress,
                             const LigmaValueArray  *args,
                             GError               **error)
{
  gboolean success = TRUE;
  const gchar *name;

  name = g_value_get_string (ligma_value_array_index (args, 0));

  if (success)
    {
      LigmaPalette *palette = ligma_pdb_get_palette (ligma, name, FALSE, error);

      if (palette)
        ligma_context_set_palette (context, palette);
      else
        success = FALSE;
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_font_invoker (LigmaProcedure         *procedure,
                          Ligma                  *ligma,
                          LigmaContext           *context,
                          LigmaProgress          *progress,
                          const LigmaValueArray  *args,
                          GError               **error)
{
  gboolean success = TRUE;
  LigmaValueArray *return_vals;
  gchar *name = NULL;

  LigmaFont *font = ligma_context_get_font (context);

  if (font)
    name = g_strdup (ligma_object_get_name (font));
  else
    success = FALSE;

  return_vals = ligma_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    g_value_take_string (ligma_value_array_index (return_vals, 1), name);

  return return_vals;
}

static LigmaValueArray *
context_set_font_invoker (LigmaProcedure         *procedure,
                          Ligma                  *ligma,
                          LigmaContext           *context,
                          LigmaProgress          *progress,
                          const LigmaValueArray  *args,
                          GError               **error)
{
  gboolean success = TRUE;
  const gchar *name;

  name = g_value_get_string (ligma_value_array_index (args, 0));

  if (success)
    {
      LigmaFont *font = ligma_pdb_get_font (ligma, name, error);

      if (font)
        ligma_context_set_font (context, font);
      else
        success = FALSE;
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_antialias_invoker (LigmaProcedure         *procedure,
                               Ligma                  *ligma,
                               LigmaContext           *context,
                               LigmaProgress          *progress,
                               const LigmaValueArray  *args,
                               GError               **error)
{
  LigmaValueArray *return_vals;
  gboolean antialias = FALSE;

  g_object_get (context,
                "antialias", &antialias,
                NULL);

  return_vals = ligma_procedure_get_return_values (procedure, TRUE, NULL);
  g_value_set_boolean (ligma_value_array_index (return_vals, 1), antialias);

  return return_vals;
}

static LigmaValueArray *
context_set_antialias_invoker (LigmaProcedure         *procedure,
                               Ligma                  *ligma,
                               LigmaContext           *context,
                               LigmaProgress          *progress,
                               const LigmaValueArray  *args,
                               GError               **error)
{
  gboolean success = TRUE;
  gboolean antialias;

  antialias = g_value_get_boolean (ligma_value_array_index (args, 0));

  if (success)
    {
      g_object_set (context,
                    "antialias", antialias,
                    NULL);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_feather_invoker (LigmaProcedure         *procedure,
                             Ligma                  *ligma,
                             LigmaContext           *context,
                             LigmaProgress          *progress,
                             const LigmaValueArray  *args,
                             GError               **error)
{
  LigmaValueArray *return_vals;
  gboolean feather = FALSE;

  g_object_get (context,
                "feather", &feather,
                NULL);

  return_vals = ligma_procedure_get_return_values (procedure, TRUE, NULL);
  g_value_set_boolean (ligma_value_array_index (return_vals, 1), feather);

  return return_vals;
}

static LigmaValueArray *
context_set_feather_invoker (LigmaProcedure         *procedure,
                             Ligma                  *ligma,
                             LigmaContext           *context,
                             LigmaProgress          *progress,
                             const LigmaValueArray  *args,
                             GError               **error)
{
  gboolean success = TRUE;
  gboolean feather;

  feather = g_value_get_boolean (ligma_value_array_index (args, 0));

  if (success)
    {
      g_object_set (context,
                    "feather", feather,
                    NULL);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_feather_radius_invoker (LigmaProcedure         *procedure,
                                    Ligma                  *ligma,
                                    LigmaContext           *context,
                                    LigmaProgress          *progress,
                                    const LigmaValueArray  *args,
                                    GError               **error)
{
  LigmaValueArray *return_vals;
  gdouble feather_radius_x = 0.0;
  gdouble feather_radius_y = 0.0;

  g_object_get (context,
                "feather-radius-x", &feather_radius_x,
                "feather-radius-y", &feather_radius_y,
                NULL);

  return_vals = ligma_procedure_get_return_values (procedure, TRUE, NULL);

  g_value_set_double (ligma_value_array_index (return_vals, 1), feather_radius_x);
  g_value_set_double (ligma_value_array_index (return_vals, 2), feather_radius_y);

  return return_vals;
}

static LigmaValueArray *
context_set_feather_radius_invoker (LigmaProcedure         *procedure,
                                    Ligma                  *ligma,
                                    LigmaContext           *context,
                                    LigmaProgress          *progress,
                                    const LigmaValueArray  *args,
                                    GError               **error)
{
  gboolean success = TRUE;
  gdouble feather_radius_x;
  gdouble feather_radius_y;

  feather_radius_x = g_value_get_double (ligma_value_array_index (args, 0));
  feather_radius_y = g_value_get_double (ligma_value_array_index (args, 1));

  if (success)
    {
      g_object_set (context,
                    "feather-radius-x", feather_radius_x,
                    "feather-radius-y", feather_radius_y,
                    NULL);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_sample_merged_invoker (LigmaProcedure         *procedure,
                                   Ligma                  *ligma,
                                   LigmaContext           *context,
                                   LigmaProgress          *progress,
                                   const LigmaValueArray  *args,
                                   GError               **error)
{
  LigmaValueArray *return_vals;
  gboolean sample_merged = FALSE;

  g_object_get (context,
                "sample-merged", &sample_merged,
                NULL);

  return_vals = ligma_procedure_get_return_values (procedure, TRUE, NULL);
  g_value_set_boolean (ligma_value_array_index (return_vals, 1), sample_merged);

  return return_vals;
}

static LigmaValueArray *
context_set_sample_merged_invoker (LigmaProcedure         *procedure,
                                   Ligma                  *ligma,
                                   LigmaContext           *context,
                                   LigmaProgress          *progress,
                                   const LigmaValueArray  *args,
                                   GError               **error)
{
  gboolean success = TRUE;
  gboolean sample_merged;

  sample_merged = g_value_get_boolean (ligma_value_array_index (args, 0));

  if (success)
    {
      g_object_set (context,
                    "sample-merged", sample_merged,
                    NULL);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_sample_criterion_invoker (LigmaProcedure         *procedure,
                                      Ligma                  *ligma,
                                      LigmaContext           *context,
                                      LigmaProgress          *progress,
                                      const LigmaValueArray  *args,
                                      GError               **error)
{
  LigmaValueArray *return_vals;
  gint sample_criterion = 0;

  g_object_get (context,
                "sample-criterion", &sample_criterion,
                NULL);

  return_vals = ligma_procedure_get_return_values (procedure, TRUE, NULL);
  g_value_set_enum (ligma_value_array_index (return_vals, 1), sample_criterion);

  return return_vals;
}

static LigmaValueArray *
context_set_sample_criterion_invoker (LigmaProcedure         *procedure,
                                      Ligma                  *ligma,
                                      LigmaContext           *context,
                                      LigmaProgress          *progress,
                                      const LigmaValueArray  *args,
                                      GError               **error)
{
  gboolean success = TRUE;
  gint sample_criterion;

  sample_criterion = g_value_get_enum (ligma_value_array_index (args, 0));

  if (success)
    {
      g_object_set (context,
                    "sample-criterion", sample_criterion,
                    NULL);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_sample_threshold_invoker (LigmaProcedure         *procedure,
                                      Ligma                  *ligma,
                                      LigmaContext           *context,
                                      LigmaProgress          *progress,
                                      const LigmaValueArray  *args,
                                      GError               **error)
{
  LigmaValueArray *return_vals;
  gdouble sample_threshold = 0.0;

  g_object_get (context,
                "sample-threshold", &sample_threshold,
                NULL);

  return_vals = ligma_procedure_get_return_values (procedure, TRUE, NULL);
  g_value_set_double (ligma_value_array_index (return_vals, 1), sample_threshold);

  return return_vals;
}

static LigmaValueArray *
context_set_sample_threshold_invoker (LigmaProcedure         *procedure,
                                      Ligma                  *ligma,
                                      LigmaContext           *context,
                                      LigmaProgress          *progress,
                                      const LigmaValueArray  *args,
                                      GError               **error)
{
  gboolean success = TRUE;
  gdouble sample_threshold;

  sample_threshold = g_value_get_double (ligma_value_array_index (args, 0));

  if (success)
    {
      g_object_set (context,
                    "sample-threshold", sample_threshold,
                    NULL);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_sample_threshold_int_invoker (LigmaProcedure         *procedure,
                                          Ligma                  *ligma,
                                          LigmaContext           *context,
                                          LigmaProgress          *progress,
                                          const LigmaValueArray  *args,
                                          GError               **error)
{
  LigmaValueArray *return_vals;
  gint sample_threshold = 0;

  gdouble threshold;

  g_object_get (context,
                "sample-threshold", &threshold,
                NULL);

  sample_threshold = (gint) (threshold * 255.99);

  return_vals = ligma_procedure_get_return_values (procedure, TRUE, NULL);
  g_value_set_int (ligma_value_array_index (return_vals, 1), sample_threshold);

  return return_vals;
}

static LigmaValueArray *
context_set_sample_threshold_int_invoker (LigmaProcedure         *procedure,
                                          Ligma                  *ligma,
                                          LigmaContext           *context,
                                          LigmaProgress          *progress,
                                          const LigmaValueArray  *args,
                                          GError               **error)
{
  gboolean success = TRUE;
  gint sample_threshold;

  sample_threshold = g_value_get_int (ligma_value_array_index (args, 0));

  if (success)
    {
      g_object_set (context,
                    "sample-threshold", (gdouble) sample_threshold / 255.0,
                    NULL);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_sample_transparent_invoker (LigmaProcedure         *procedure,
                                        Ligma                  *ligma,
                                        LigmaContext           *context,
                                        LigmaProgress          *progress,
                                        const LigmaValueArray  *args,
                                        GError               **error)
{
  LigmaValueArray *return_vals;
  gboolean sample_transparent = FALSE;

  g_object_get (context,
                "sample-transparent", &sample_transparent,
                NULL);

  return_vals = ligma_procedure_get_return_values (procedure, TRUE, NULL);
  g_value_set_boolean (ligma_value_array_index (return_vals, 1), sample_transparent);

  return return_vals;
}

static LigmaValueArray *
context_set_sample_transparent_invoker (LigmaProcedure         *procedure,
                                        Ligma                  *ligma,
                                        LigmaContext           *context,
                                        LigmaProgress          *progress,
                                        const LigmaValueArray  *args,
                                        GError               **error)
{
  gboolean success = TRUE;
  gboolean sample_transparent;

  sample_transparent = g_value_get_boolean (ligma_value_array_index (args, 0));

  if (success)
    {
      g_object_set (context,
                    "sample-transparent", sample_transparent,
                    NULL);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_diagonal_neighbors_invoker (LigmaProcedure         *procedure,
                                        Ligma                  *ligma,
                                        LigmaContext           *context,
                                        LigmaProgress          *progress,
                                        const LigmaValueArray  *args,
                                        GError               **error)
{
  LigmaValueArray *return_vals;
  gboolean diagonal_neighbors = FALSE;

  g_object_get (context,
                "diagonal-neighbors", &diagonal_neighbors,
                NULL);

  return_vals = ligma_procedure_get_return_values (procedure, TRUE, NULL);
  g_value_set_boolean (ligma_value_array_index (return_vals, 1), diagonal_neighbors);

  return return_vals;
}

static LigmaValueArray *
context_set_diagonal_neighbors_invoker (LigmaProcedure         *procedure,
                                        Ligma                  *ligma,
                                        LigmaContext           *context,
                                        LigmaProgress          *progress,
                                        const LigmaValueArray  *args,
                                        GError               **error)
{
  gboolean success = TRUE;
  gboolean diagonal_neighbors;

  diagonal_neighbors = g_value_get_boolean (ligma_value_array_index (args, 0));

  if (success)
    {
      g_object_set (context,
                    "diagonal-neighbors", diagonal_neighbors,
                    NULL);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_distance_metric_invoker (LigmaProcedure         *procedure,
                                     Ligma                  *ligma,
                                     LigmaContext           *context,
                                     LigmaProgress          *progress,
                                     const LigmaValueArray  *args,
                                     GError               **error)
{
  LigmaValueArray *return_vals;
  gint metric = 0;

  g_object_get (context,
                "distance-metric", &metric,
                NULL);

  return_vals = ligma_procedure_get_return_values (procedure, TRUE, NULL);
  g_value_set_enum (ligma_value_array_index (return_vals, 1), metric);

  return return_vals;
}

static LigmaValueArray *
context_set_distance_metric_invoker (LigmaProcedure         *procedure,
                                     Ligma                  *ligma,
                                     LigmaContext           *context,
                                     LigmaProgress          *progress,
                                     const LigmaValueArray  *args,
                                     GError               **error)
{
  gboolean success = TRUE;
  gint metric;

  metric = g_value_get_enum (ligma_value_array_index (args, 0));

  if (success)
    {
      g_object_set (context,
                    "distance-metric", metric,
                    NULL);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_interpolation_invoker (LigmaProcedure         *procedure,
                                   Ligma                  *ligma,
                                   LigmaContext           *context,
                                   LigmaProgress          *progress,
                                   const LigmaValueArray  *args,
                                   GError               **error)
{
  LigmaValueArray *return_vals;
  gint interpolation = 0;

  g_object_get (context,
                "interpolation", &interpolation,
                NULL);

  return_vals = ligma_procedure_get_return_values (procedure, TRUE, NULL);
  g_value_set_enum (ligma_value_array_index (return_vals, 1), interpolation);

  return return_vals;
}

static LigmaValueArray *
context_set_interpolation_invoker (LigmaProcedure         *procedure,
                                   Ligma                  *ligma,
                                   LigmaContext           *context,
                                   LigmaProgress          *progress,
                                   const LigmaValueArray  *args,
                                   GError               **error)
{
  gboolean success = TRUE;
  gint interpolation;

  interpolation = g_value_get_enum (ligma_value_array_index (args, 0));

  if (success)
    {
      g_object_set (context,
                    "interpolation", interpolation,
                    NULL);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_transform_direction_invoker (LigmaProcedure         *procedure,
                                         Ligma                  *ligma,
                                         LigmaContext           *context,
                                         LigmaProgress          *progress,
                                         const LigmaValueArray  *args,
                                         GError               **error)
{
  LigmaValueArray *return_vals;
  gint transform_direction = 0;

  g_object_get (context,
                "transform-direction", &transform_direction,
                NULL);

  return_vals = ligma_procedure_get_return_values (procedure, TRUE, NULL);
  g_value_set_enum (ligma_value_array_index (return_vals, 1), transform_direction);

  return return_vals;
}

static LigmaValueArray *
context_set_transform_direction_invoker (LigmaProcedure         *procedure,
                                         Ligma                  *ligma,
                                         LigmaContext           *context,
                                         LigmaProgress          *progress,
                                         const LigmaValueArray  *args,
                                         GError               **error)
{
  gboolean success = TRUE;
  gint transform_direction;

  transform_direction = g_value_get_enum (ligma_value_array_index (args, 0));

  if (success)
    {
      g_object_set (context,
                    "transform-direction", transform_direction,
                    NULL);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_transform_resize_invoker (LigmaProcedure         *procedure,
                                      Ligma                  *ligma,
                                      LigmaContext           *context,
                                      LigmaProgress          *progress,
                                      const LigmaValueArray  *args,
                                      GError               **error)
{
  LigmaValueArray *return_vals;
  gint transform_resize = 0;

  g_object_get (context,
                "transform-resize", &transform_resize,
                NULL);

  return_vals = ligma_procedure_get_return_values (procedure, TRUE, NULL);
  g_value_set_enum (ligma_value_array_index (return_vals, 1), transform_resize);

  return return_vals;
}

static LigmaValueArray *
context_set_transform_resize_invoker (LigmaProcedure         *procedure,
                                      Ligma                  *ligma,
                                      LigmaContext           *context,
                                      LigmaProgress          *progress,
                                      const LigmaValueArray  *args,
                                      GError               **error)
{
  gboolean success = TRUE;
  gint transform_resize;

  transform_resize = g_value_get_enum (ligma_value_array_index (args, 0));

  if (success)
    {
      g_object_set (context,
                    "transform-resize", transform_resize,
                    NULL);
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_ink_size_invoker (LigmaProcedure         *procedure,
                              Ligma                  *ligma,
                              LigmaContext           *context,
                              LigmaProgress          *progress,
                              const LigmaValueArray  *args,
                              GError               **error)
{
  gboolean success = TRUE;
  LigmaValueArray *return_vals;
  gdouble size = 0.0;

  LigmaPaintOptions *options =
    ligma_pdb_context_get_paint_options (LIGMA_PDB_CONTEXT (context),
                                        "ligma-ink");

  if (options)
    g_object_get (options,
                  "size", &size,
                  NULL);
  else
    success = FALSE;

  return_vals = ligma_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    g_value_set_double (ligma_value_array_index (return_vals, 1), size);

  return return_vals;
}

static LigmaValueArray *
context_set_ink_size_invoker (LigmaProcedure         *procedure,
                              Ligma                  *ligma,
                              LigmaContext           *context,
                              LigmaProgress          *progress,
                              const LigmaValueArray  *args,
                              GError               **error)
{
  gboolean success = TRUE;
  gdouble size;

  size = g_value_get_double (ligma_value_array_index (args, 0));

  if (success)
    {
      LigmaPaintOptions *options =
        ligma_pdb_context_get_paint_options (LIGMA_PDB_CONTEXT (context),
                                            "ligma-ink");

      if (options)
        g_object_set (options,
                      "size", size,
                      NULL);
      else
        success = FALSE;
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_ink_angle_invoker (LigmaProcedure         *procedure,
                               Ligma                  *ligma,
                               LigmaContext           *context,
                               LigmaProgress          *progress,
                               const LigmaValueArray  *args,
                               GError               **error)
{
  gboolean success = TRUE;
  LigmaValueArray *return_vals;
  gdouble angle = 0.0;

  LigmaPaintOptions *options =
    ligma_pdb_context_get_paint_options (LIGMA_PDB_CONTEXT (context),
                                        "ligma-ink");

  if (options)
    g_object_get (options,
                  "tilt-angle", &angle,
                  NULL);
  else
    success = FALSE;

  return_vals = ligma_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    g_value_set_double (ligma_value_array_index (return_vals, 1), angle);

  return return_vals;
}

static LigmaValueArray *
context_set_ink_angle_invoker (LigmaProcedure         *procedure,
                               Ligma                  *ligma,
                               LigmaContext           *context,
                               LigmaProgress          *progress,
                               const LigmaValueArray  *args,
                               GError               **error)
{
  gboolean success = TRUE;
  gdouble angle;

  angle = g_value_get_double (ligma_value_array_index (args, 0));

  if (success)
    {
      LigmaPaintOptions *options =
        ligma_pdb_context_get_paint_options (LIGMA_PDB_CONTEXT (context),
                                            "ligma-ink");

      if (options)
        g_object_set (options,
                      "tilt-angle", angle,
                      NULL);
      else
        success = FALSE;
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_ink_size_sensitivity_invoker (LigmaProcedure         *procedure,
                                          Ligma                  *ligma,
                                          LigmaContext           *context,
                                          LigmaProgress          *progress,
                                          const LigmaValueArray  *args,
                                          GError               **error)
{
  gboolean success = TRUE;
  LigmaValueArray *return_vals;
  gdouble size = 0.0;

  LigmaPaintOptions *options =
    ligma_pdb_context_get_paint_options (LIGMA_PDB_CONTEXT (context),
                                        "ligma-ink");

  if (options)
    g_object_get (options,
                  "size-sensitivity", &size,
                  NULL);
  else
    success = FALSE;

  return_vals = ligma_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    g_value_set_double (ligma_value_array_index (return_vals, 1), size);

  return return_vals;
}

static LigmaValueArray *
context_set_ink_size_sensitivity_invoker (LigmaProcedure         *procedure,
                                          Ligma                  *ligma,
                                          LigmaContext           *context,
                                          LigmaProgress          *progress,
                                          const LigmaValueArray  *args,
                                          GError               **error)
{
  gboolean success = TRUE;
  gdouble size;

  size = g_value_get_double (ligma_value_array_index (args, 0));

  if (success)
    {
      LigmaPaintOptions *options =
        ligma_pdb_context_get_paint_options (LIGMA_PDB_CONTEXT (context),
                                            "ligma-ink");

      if (options)
        g_object_set (options,
                      "size-sensitivity", size,
                      NULL);
      else
        success = FALSE;
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_ink_tilt_sensitivity_invoker (LigmaProcedure         *procedure,
                                          Ligma                  *ligma,
                                          LigmaContext           *context,
                                          LigmaProgress          *progress,
                                          const LigmaValueArray  *args,
                                          GError               **error)
{
  gboolean success = TRUE;
  LigmaValueArray *return_vals;
  gdouble tilt = 0.0;

  LigmaPaintOptions *options =
    ligma_pdb_context_get_paint_options (LIGMA_PDB_CONTEXT (context),
                                        "ligma-ink");

  if (options)
    g_object_get (options,
                  "tilt-sensitivity", &tilt,
                  NULL);
  else
    success = FALSE;

  return_vals = ligma_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    g_value_set_double (ligma_value_array_index (return_vals, 1), tilt);

  return return_vals;
}

static LigmaValueArray *
context_set_ink_tilt_sensitivity_invoker (LigmaProcedure         *procedure,
                                          Ligma                  *ligma,
                                          LigmaContext           *context,
                                          LigmaProgress          *progress,
                                          const LigmaValueArray  *args,
                                          GError               **error)
{
  gboolean success = TRUE;
  gdouble tilt;

  tilt = g_value_get_double (ligma_value_array_index (args, 0));

  if (success)
    {
      LigmaPaintOptions *options =
        ligma_pdb_context_get_paint_options (LIGMA_PDB_CONTEXT (context),
                                            "ligma-ink");

      if (options)
        g_object_set (options,
                      "tilt-sensitivity", tilt,
                      NULL);
      else
        success = FALSE;
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_ink_speed_sensitivity_invoker (LigmaProcedure         *procedure,
                                           Ligma                  *ligma,
                                           LigmaContext           *context,
                                           LigmaProgress          *progress,
                                           const LigmaValueArray  *args,
                                           GError               **error)
{
  gboolean success = TRUE;
  LigmaValueArray *return_vals;
  gdouble speed = 0.0;

  LigmaPaintOptions *options =
    ligma_pdb_context_get_paint_options (LIGMA_PDB_CONTEXT (context),
                                        "ligma-ink");

  if (options)
    g_object_get (options,
                  "vel-sensitivity", &speed,
                  NULL);
  else
    success = FALSE;

  return_vals = ligma_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    g_value_set_double (ligma_value_array_index (return_vals, 1), speed);

  return return_vals;
}

static LigmaValueArray *
context_set_ink_speed_sensitivity_invoker (LigmaProcedure         *procedure,
                                           Ligma                  *ligma,
                                           LigmaContext           *context,
                                           LigmaProgress          *progress,
                                           const LigmaValueArray  *args,
                                           GError               **error)
{
  gboolean success = TRUE;
  gdouble speed;

  speed = g_value_get_double (ligma_value_array_index (args, 0));

  if (success)
    {
      LigmaPaintOptions *options =
        ligma_pdb_context_get_paint_options (LIGMA_PDB_CONTEXT (context),
                                            "ligma-ink");

      if (options)
        g_object_set (options,
                      "vel-sensitivity", speed,
                      NULL);
      else
        success = FALSE;
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_ink_blob_type_invoker (LigmaProcedure         *procedure,
                                   Ligma                  *ligma,
                                   LigmaContext           *context,
                                   LigmaProgress          *progress,
                                   const LigmaValueArray  *args,
                                   GError               **error)
{
  gboolean success = TRUE;
  LigmaValueArray *return_vals;
  gint type = 0;

  LigmaPaintOptions *options =
    ligma_pdb_context_get_paint_options (LIGMA_PDB_CONTEXT (context),
                                        "ligma-ink");

  if (options)
    g_object_get (options,
                  "blob-type", &type,
                  NULL);
  else
    success = FALSE;

  return_vals = ligma_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    g_value_set_enum (ligma_value_array_index (return_vals, 1), type);

  return return_vals;
}

static LigmaValueArray *
context_set_ink_blob_type_invoker (LigmaProcedure         *procedure,
                                   Ligma                  *ligma,
                                   LigmaContext           *context,
                                   LigmaProgress          *progress,
                                   const LigmaValueArray  *args,
                                   GError               **error)
{
  gboolean success = TRUE;
  gint type;

  type = g_value_get_enum (ligma_value_array_index (args, 0));

  if (success)
    {
      LigmaPaintOptions *options =
        ligma_pdb_context_get_paint_options (LIGMA_PDB_CONTEXT (context),
                                            "ligma-ink");

      if (options)
        g_object_set (options,
                      "blob-type", type,
                      NULL);
      else
        success = FALSE;
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_ink_blob_aspect_ratio_invoker (LigmaProcedure         *procedure,
                                           Ligma                  *ligma,
                                           LigmaContext           *context,
                                           LigmaProgress          *progress,
                                           const LigmaValueArray  *args,
                                           GError               **error)
{
  gboolean success = TRUE;
  LigmaValueArray *return_vals;
  gdouble aspect = 0.0;

  LigmaPaintOptions *options =
    ligma_pdb_context_get_paint_options (LIGMA_PDB_CONTEXT (context),
                                        "ligma-ink");

  if (options)
    g_object_get (options,
                  "blob-aspect", &aspect,
                  NULL);
  else
    success = FALSE;

  return_vals = ligma_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    g_value_set_double (ligma_value_array_index (return_vals, 1), aspect);

  return return_vals;
}

static LigmaValueArray *
context_set_ink_blob_aspect_ratio_invoker (LigmaProcedure         *procedure,
                                           Ligma                  *ligma,
                                           LigmaContext           *context,
                                           LigmaProgress          *progress,
                                           const LigmaValueArray  *args,
                                           GError               **error)
{
  gboolean success = TRUE;
  gdouble aspect;

  aspect = g_value_get_double (ligma_value_array_index (args, 0));

  if (success)
    {
      LigmaPaintOptions *options =
        ligma_pdb_context_get_paint_options (LIGMA_PDB_CONTEXT (context),
                                            "ligma-ink");

      if (options)
        g_object_set (options,
                      "blob-aspect", aspect,
                      NULL);
      else
        success = FALSE;
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static LigmaValueArray *
context_get_ink_blob_angle_invoker (LigmaProcedure         *procedure,
                                    Ligma                  *ligma,
                                    LigmaContext           *context,
                                    LigmaProgress          *progress,
                                    const LigmaValueArray  *args,
                                    GError               **error)
{
  gboolean success = TRUE;
  LigmaValueArray *return_vals;
  gdouble angle = 0.0;

  LigmaPaintOptions *options =
    ligma_pdb_context_get_paint_options (LIGMA_PDB_CONTEXT (context),
                                        "ligma-ink");

  if (options)
    {
      g_object_get (options,
                    "blob-angle", &angle,
                    NULL);
      angle *= (180-0 / G_PI);
    }
  else
    success = FALSE;

  return_vals = ligma_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    g_value_set_double (ligma_value_array_index (return_vals, 1), angle);

  return return_vals;
}

static LigmaValueArray *
context_set_ink_blob_angle_invoker (LigmaProcedure         *procedure,
                                    Ligma                  *ligma,
                                    LigmaContext           *context,
                                    LigmaProgress          *progress,
                                    const LigmaValueArray  *args,
                                    GError               **error)
{
  gboolean success = TRUE;
  gdouble angle;

  angle = g_value_get_double (ligma_value_array_index (args, 0));

  if (success)
    {
      LigmaPaintOptions *options =
        ligma_pdb_context_get_paint_options (LIGMA_PDB_CONTEXT (context),
                                            "ligma-ink");

      if (options)
        g_object_set (options,
                      "blob-angle", (gdouble) angle * G_PI / 180.0,
                      NULL);
      else
        success = FALSE;
    }

  return ligma_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

void
register_context_procs (LigmaPDB *pdb)
{
  LigmaProcedure *procedure;

  /*
   * ligma-context-push
   */
  procedure = ligma_procedure_new (context_push_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-push");
  ligma_procedure_set_static_help (procedure,
                                  "Pushes a context to the top of the plug-in's context stack.",
                                  "This procedure creates a new context by copying the current context. This copy becomes the new current context for the calling plug-in until it is popped again using 'ligma-context-pop'.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org> & Sven Neumann <sven@ligma.org>",
                                         "Michael Natterer & Sven Neumann",
                                         "2004");
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-pop
   */
  procedure = ligma_procedure_new (context_pop_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-pop");
  ligma_procedure_set_static_help (procedure,
                                  "Pops the topmost context from the plug-in's context stack.",
                                  "This procedure removes the topmost context from the plug-in's context stack. The context that was active before the corresponding call to 'ligma-context-push' becomes the new current context of the plug-in.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org> & Sven Neumann <sven@ligma.org>",
                                         "Michael Natterer & Sven Neumann",
                                         "2004");
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-defaults
   */
  procedure = ligma_procedure_new (context_set_defaults_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-defaults");
  ligma_procedure_set_static_help (procedure,
                                  "Reset context settings to their default values.",
                                  "This procedure resets context settings used by various procedures to their default value. This procedure will usually be called after a context push so that a script which calls procedures affected by context settings will not be affected by changes in the global context.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Kevin Cozens <kcozens@svn.gnome.org>",
                                         "Kevin Cozens",
                                         "2011");
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-list-paint-methods
   */
  procedure = ligma_procedure_new (context_list_paint_methods_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-list-paint-methods");
  ligma_procedure_set_static_help (procedure,
                                  "Lists the available paint methods.",
                                  "This procedure lists the names of the available paint methods. Any of the results can be used for 'ligma-context-set-paint-method'.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Simon Budig",
                                         "Simon Budig",
                                         "2007");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_boxed ("paint-methods",
                                                       "paint methods",
                                                       "The names of the available paint methods",
                                                       G_TYPE_STRV,
                                                       LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-paint-method
   */
  procedure = ligma_procedure_new (context_get_paint_method_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-paint-method");
  ligma_procedure_set_static_help (procedure,
                                  "Retrieve the currently active paint method.",
                                  "This procedure returns the name of the currently active paint method.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2005");
  ligma_procedure_add_return_value (procedure,
                                   ligma_param_spec_string ("name",
                                                           "name",
                                                           "The name of the active paint method",
                                                           FALSE, FALSE, FALSE,
                                                           NULL,
                                                           LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-paint-method
   */
  procedure = ligma_procedure_new (context_set_paint_method_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-paint-method");
  ligma_procedure_set_static_help (procedure,
                                  "Set the specified paint method as the active paint method.",
                                  "This procedure allows the active paint method to be set by specifying its name. The name is simply a string which corresponds to one of the names of the available paint methods. If there is no matching method found, this procedure will return an error. Otherwise, the specified method becomes active and will be used in all subsequent paint operations.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2005");
  ligma_procedure_add_argument (procedure,
                               ligma_param_spec_string ("name",
                                                       "name",
                                                       "The name of the paint method",
                                                       FALSE, FALSE, TRUE,
                                                       NULL,
                                                       LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-stroke-method
   */
  procedure = ligma_procedure_new (context_get_stroke_method_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-stroke-method");
  ligma_procedure_set_static_help (procedure,
                                  "Retrieve the currently active stroke method.",
                                  "This procedure returns the currently active stroke method.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2015");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_enum ("stroke-method",
                                                      "stroke method",
                                                      "The active stroke method",
                                                      LIGMA_TYPE_STROKE_METHOD,
                                                      LIGMA_STROKE_LINE,
                                                      LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-stroke-method
   */
  procedure = ligma_procedure_new (context_set_stroke_method_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-stroke-method");
  ligma_procedure_set_static_help (procedure,
                                  "Set the specified stroke method as the active stroke method.",
                                  "This procedure set the specified stroke method as the active stroke method. The new method will be used in all subsequent stroke operations.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2015");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_enum ("stroke-method",
                                                  "stroke method",
                                                  "The new stroke method",
                                                  LIGMA_TYPE_STROKE_METHOD,
                                                  LIGMA_STROKE_LINE,
                                                  LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-foreground
   */
  procedure = ligma_procedure_new (context_get_foreground_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-foreground");
  ligma_procedure_set_static_help (procedure,
                                  "Get the current LIGMA foreground color.",
                                  "This procedure returns the current LIGMA foreground color. The foreground color is used in a variety of tools such as paint tools, blending, and bucket fill.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org> & Sven Neumann <sven@ligma.org>",
                                         "Michael Natterer & Sven Neumann",
                                         "2004");
  ligma_procedure_add_return_value (procedure,
                                   ligma_param_spec_rgb ("foreground",
                                                        "foreground",
                                                        "The foreground color",
                                                        FALSE,
                                                        NULL,
                                                        LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-foreground
   */
  procedure = ligma_procedure_new (context_set_foreground_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-foreground");
  ligma_procedure_set_static_help (procedure,
                                  "Set the current LIGMA foreground color.",
                                  "This procedure sets the current LIGMA foreground color. After this is set, operations which use foreground such as paint tools, blending, and bucket fill will use the new value.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org> & Sven Neumann <sven@ligma.org>",
                                         "Michael Natterer & Sven Neumann",
                                         "2004");
  ligma_procedure_add_argument (procedure,
                               ligma_param_spec_rgb ("foreground",
                                                    "foreground",
                                                    "The foreground color",
                                                    FALSE,
                                                    NULL,
                                                    LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-background
   */
  procedure = ligma_procedure_new (context_get_background_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-background");
  ligma_procedure_set_static_help (procedure,
                                  "Get the current LIGMA background color.",
                                  "This procedure returns the current LIGMA background color. The background color is used in a variety of tools such as blending, erasing (with non-alpha images), and image filling.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org> & Sven Neumann <sven@ligma.org>",
                                         "Michael Natterer & Sven Neumann",
                                         "2004");
  ligma_procedure_add_return_value (procedure,
                                   ligma_param_spec_rgb ("background",
                                                        "background",
                                                        "The background color",
                                                        FALSE,
                                                        NULL,
                                                        LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-background
   */
  procedure = ligma_procedure_new (context_set_background_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-background");
  ligma_procedure_set_static_help (procedure,
                                  "Set the current LIGMA background color.",
                                  "This procedure sets the current LIGMA background color. After this is set, operations which use background such as blending, filling images, clearing, and erasing (in non-alpha images) will use the new value.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org> & Sven Neumann <sven@ligma.org>",
                                         "Michael Natterer & Sven Neumann",
                                         "2004");
  ligma_procedure_add_argument (procedure,
                               ligma_param_spec_rgb ("background",
                                                    "background",
                                                    "The background color",
                                                    FALSE,
                                                    NULL,
                                                    LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-default-colors
   */
  procedure = ligma_procedure_new (context_set_default_colors_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-default-colors");
  ligma_procedure_set_static_help (procedure,
                                  "Set the current LIGMA foreground and background colors to black and white.",
                                  "This procedure sets the current LIGMA foreground and background colors to their initial default values, black and white.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org> & Sven Neumann <sven@ligma.org>",
                                         "Michael Natterer & Sven Neumann",
                                         "2004");
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-swap-colors
   */
  procedure = ligma_procedure_new (context_swap_colors_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-swap-colors");
  ligma_procedure_set_static_help (procedure,
                                  "Swap the current LIGMA foreground and background colors.",
                                  "This procedure swaps the current LIGMA foreground and background colors, so that the new foreground color becomes the old background color and vice versa.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org> & Sven Neumann <sven@ligma.org>",
                                         "Michael Natterer & Sven Neumann",
                                         "2004");
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-opacity
   */
  procedure = ligma_procedure_new (context_get_opacity_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-opacity");
  ligma_procedure_set_static_help (procedure,
                                  "Get the opacity.",
                                  "This procedure returns the opacity setting. The return value is a floating point number between 0 and 100.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org> & Sven Neumann <sven@ligma.org>",
                                         "Michael Natterer & Sven Neumann",
                                         "2004");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_double ("opacity",
                                                        "opacity",
                                                        "The opacity",
                                                        0, 100, 0,
                                                        LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-opacity
   */
  procedure = ligma_procedure_new (context_set_opacity_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-opacity");
  ligma_procedure_set_static_help (procedure,
                                  "Set the opacity.",
                                  "This procedure modifies the opacity setting. The value should be a floating point number between 0 and 100.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org> & Sven Neumann <sven@ligma.org>",
                                         "Michael Natterer & Sven Neumann",
                                         "2004");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_double ("opacity",
                                                    "opacity",
                                                    "The opacity",
                                                    0, 100, 0,
                                                    LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-paint-mode
   */
  procedure = ligma_procedure_new (context_get_paint_mode_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-paint-mode");
  ligma_procedure_set_static_help (procedure,
                                  "Get the paint mode.",
                                  "This procedure returns the paint-mode setting. The return value is an integer which corresponds to the values listed in the argument description.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org> & Sven Neumann <sven@ligma.org>",
                                         "Michael Natterer & Sven Neumann",
                                         "2004");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_enum ("paint-mode",
                                                      "paint mode",
                                                      "The paint mode",
                                                      LIGMA_TYPE_LAYER_MODE,
                                                      LIGMA_LAYER_MODE_NORMAL,
                                                      LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-paint-mode
   */
  procedure = ligma_procedure_new (context_set_paint_mode_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-paint-mode");
  ligma_procedure_set_static_help (procedure,
                                  "Set the paint mode.",
                                  "This procedure modifies the paint_mode setting.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org> & Sven Neumann <sven@ligma.org>",
                                         "Michael Natterer & Sven Neumann",
                                         "2004");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_enum ("paint-mode",
                                                  "paint mode",
                                                  "The paint mode",
                                                  LIGMA_TYPE_LAYER_MODE,
                                                  LIGMA_LAYER_MODE_NORMAL,
                                                  LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-line-width
   */
  procedure = ligma_procedure_new (context_get_line_width_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-line-width");
  ligma_procedure_set_static_help (procedure,
                                  "Get the line width setting.",
                                  "This procedure returns the line width setting.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2015");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_double ("line-width",
                                                        "line width",
                                                        "The line width setting",
                                                        0.0, 2000.0, 0.0,
                                                        LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-line-width
   */
  procedure = ligma_procedure_new (context_set_line_width_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-line-width");
  ligma_procedure_set_static_help (procedure,
                                  "Set the line width setting.",
                                  "This procedure modifies the line width setting for stroking lines.\n"
                                  "\n"
                                  "This setting affects the following procedures: 'ligma-drawable-edit-stroke-selection', 'ligma-drawable-edit-stroke-item'.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2015");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_double ("line-width",
                                                    "line width",
                                                    "The line width setting",
                                                    0.0, 2000.0, 0.0,
                                                    LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-line-width-unit
   */
  procedure = ligma_procedure_new (context_get_line_width_unit_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-line-width-unit");
  ligma_procedure_set_static_help (procedure,
                                  "Get the line width unit setting.",
                                  "This procedure returns the line width unit setting.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2015");
  ligma_procedure_add_return_value (procedure,
                                   ligma_param_spec_unit ("line-width-unit",
                                                         "line width unit",
                                                         "The line width unit setting",
                                                         TRUE,
                                                         FALSE,
                                                         LIGMA_UNIT_PIXEL,
                                                         LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-line-width-unit
   */
  procedure = ligma_procedure_new (context_set_line_width_unit_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-line-width-unit");
  ligma_procedure_set_static_help (procedure,
                                  "Set the line width unit setting.",
                                  "This procedure modifies the line width unit setting for stroking lines.\n"
                                  "\n"
                                  "This setting affects the following procedures: 'ligma-drawable-edit-stroke-selection', 'ligma-drawable-edit-stroke-item'.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2015");
  ligma_procedure_add_argument (procedure,
                               ligma_param_spec_unit ("line-width-unit",
                                                     "line width unit",
                                                     "The line width setting unit",
                                                     TRUE,
                                                     FALSE,
                                                     LIGMA_UNIT_PIXEL,
                                                     LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-line-cap-style
   */
  procedure = ligma_procedure_new (context_get_line_cap_style_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-line-cap-style");
  ligma_procedure_set_static_help (procedure,
                                  "Get the line cap style setting.",
                                  "This procedure returns the line cap style setting.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2015");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_enum ("cap-style",
                                                      "cap style",
                                                      "The line cap style setting",
                                                      LIGMA_TYPE_CAP_STYLE,
                                                      LIGMA_CAP_BUTT,
                                                      LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-line-cap-style
   */
  procedure = ligma_procedure_new (context_set_line_cap_style_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-line-cap-style");
  ligma_procedure_set_static_help (procedure,
                                  "Set the line cap style setting.",
                                  "This procedure modifies the line cap style setting for stroking lines.\n"
                                  "\n"
                                  "This setting affects the following procedures: 'ligma-drawable-edit-stroke-selection', 'ligma-drawable-edit-stroke-item'.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2015");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_enum ("cap-style",
                                                  "cap style",
                                                  "The line cap style setting",
                                                  LIGMA_TYPE_CAP_STYLE,
                                                  LIGMA_CAP_BUTT,
                                                  LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-line-join-style
   */
  procedure = ligma_procedure_new (context_get_line_join_style_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-line-join-style");
  ligma_procedure_set_static_help (procedure,
                                  "Get the line join style setting.",
                                  "This procedure returns the line join style setting.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2015");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_enum ("join-style",
                                                      "join style",
                                                      "The line join style setting",
                                                      LIGMA_TYPE_JOIN_STYLE,
                                                      LIGMA_JOIN_MITER,
                                                      LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-line-join-style
   */
  procedure = ligma_procedure_new (context_set_line_join_style_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-line-join-style");
  ligma_procedure_set_static_help (procedure,
                                  "Set the line join style setting.",
                                  "This procedure modifies the line join style setting for stroking lines.\n"
                                  "\n"
                                  "This setting affects the following procedures: 'ligma-drawable-edit-stroke-selection', 'ligma-drawable-edit-stroke-item'.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2015");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_enum ("join-style",
                                                  "join style",
                                                  "The line join style setting",
                                                  LIGMA_TYPE_JOIN_STYLE,
                                                  LIGMA_JOIN_MITER,
                                                  LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-line-miter-limit
   */
  procedure = ligma_procedure_new (context_get_line_miter_limit_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-line-miter-limit");
  ligma_procedure_set_static_help (procedure,
                                  "Get the line miter limit setting.",
                                  "This procedure returns the line miter limit setting.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2015");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_double ("miter-limit",
                                                        "miter limit",
                                                        "The line miter limit setting",
                                                        0.0, 100.0, 0.0,
                                                        LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-line-miter-limit
   */
  procedure = ligma_procedure_new (context_set_line_miter_limit_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-line-miter-limit");
  ligma_procedure_set_static_help (procedure,
                                  "Set the line miter limit setting.",
                                  "This procedure modifies the line miter limit setting for stroking lines.\n"
                                  "A mitered join is converted to a bevelled join if the miter would extend to a distance of more than (miter-limit * line-width) from the actual join point.\n"
                                  "\n"
                                  "This setting affects the following procedures: 'ligma-drawable-edit-stroke-selection', 'ligma-drawable-edit-stroke-item'.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2015");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_double ("miter-limit",
                                                    "miter limit",
                                                    "The line miter limit setting",
                                                    0.0, 100.0, 0.0,
                                                    LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-line-dash-offset
   */
  procedure = ligma_procedure_new (context_get_line_dash_offset_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-line-dash-offset");
  ligma_procedure_set_static_help (procedure,
                                  "Get the line dash offset setting.",
                                  "This procedure returns the line dash offset setting.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2015");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_double ("dash-offset",
                                                        "dash offset",
                                                        "The line dash offset setting",
                                                        0.0, 2000.0, 0.0,
                                                        LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-line-dash-offset
   */
  procedure = ligma_procedure_new (context_set_line_dash_offset_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-line-dash-offset");
  ligma_procedure_set_static_help (procedure,
                                  "Set the line dash offset setting.",
                                  "This procedure modifies the line dash offset setting for stroking lines.\n"
                                  "\n"
                                  "This setting affects the following procedures: 'ligma-drawable-edit-stroke-selection', 'ligma-drawable-edit-stroke-item'.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2015");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_double ("dash-offset",
                                                    "dash offset",
                                                    "The line dash offset setting",
                                                    0.0, 100.0, 0.0,
                                                    LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-line-dash-pattern
   */
  procedure = ligma_procedure_new (context_get_line_dash_pattern_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-line-dash-pattern");
  ligma_procedure_set_static_help (procedure,
                                  "Get the line dash pattern setting.",
                                  "This procedure returns the line dash pattern setting.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2015");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_int ("num-dashes",
                                                     "num dashes",
                                                     "The number of dashes in the dash_pattern array",
                                                     0, G_MAXINT32, 0,
                                                     LIGMA_PARAM_READWRITE));
  ligma_procedure_add_return_value (procedure,
                                   ligma_param_spec_float_array ("dashes",
                                                                "dashes",
                                                                "The line dash pattern setting",
                                                                LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-line-dash-pattern
   */
  procedure = ligma_procedure_new (context_set_line_dash_pattern_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-line-dash-pattern");
  ligma_procedure_set_static_help (procedure,
                                  "Set the line dash pattern setting.",
                                  "This procedure modifies the line dash pattern setting for stroking lines.\n"
                                  "\n"
                                  "The unit of the dash pattern segments is the actual line width used for the stroke operation, in other words a segment length of 1.0 results in a square segment shape (or gap shape).\n"
                                  "\n"
                                  "This setting affects the following procedures: 'ligma-drawable-edit-stroke-selection', 'ligma-drawable-edit-stroke-item'.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2015");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_int ("num-dashes",
                                                 "num dashes",
                                                 "The number of dashes in the dash_pattern array",
                                                 0, G_MAXINT32, 0,
                                                 LIGMA_PARAM_READWRITE));
  ligma_procedure_add_argument (procedure,
                               ligma_param_spec_float_array ("dashes",
                                                            "dashes",
                                                            "The line dash pattern setting",
                                                            LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-brush
   */
  procedure = ligma_procedure_new (context_get_brush_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-brush");
  ligma_procedure_set_static_help (procedure,
                                  "Retrieve the currently active brush.",
                                  "This procedure returns the name of the currently active brush. All paint operations and stroke operations use this brush to control the application of paint to the image.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org> & Sven Neumann <sven@ligma.org>",
                                         "Michael Natterer & Sven Neumann",
                                         "2004");
  ligma_procedure_add_return_value (procedure,
                                   ligma_param_spec_string ("name",
                                                           "name",
                                                           "The name of the active brush",
                                                           FALSE, FALSE, FALSE,
                                                           NULL,
                                                           LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-brush
   */
  procedure = ligma_procedure_new (context_set_brush_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-brush");
  ligma_procedure_set_static_help (procedure,
                                  "Set the specified brush as the active brush.",
                                  "This procedure allows the active brush to be set by specifying its name. The name is simply a string which corresponds to one of the names of the installed brushes. If there is no matching brush found, this procedure will return an error. Otherwise, the specified brush becomes active and will be used in all subsequent paint operations.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org> & Sven Neumann <sven@ligma.org>",
                                         "Michael Natterer & Sven Neumann",
                                         "2004");
  ligma_procedure_add_argument (procedure,
                               ligma_param_spec_string ("name",
                                                       "name",
                                                       "The name of the brush",
                                                       FALSE, FALSE, TRUE,
                                                       NULL,
                                                       LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-brush-size
   */
  procedure = ligma_procedure_new (context_get_brush_size_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-brush-size");
  ligma_procedure_set_static_help (procedure,
                                  "Get brush size in pixels.",
                                  "Get the brush size in pixels for brush based paint tools.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Ed Swartz",
                                         "Ed Swartz",
                                         "2012");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_double ("size",
                                                        "size",
                                                        "Brush size in pixels",
                                                        0, G_MAXDOUBLE, 0,
                                                        LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-brush-size
   */
  procedure = ligma_procedure_new (context_set_brush_size_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-brush-size");
  ligma_procedure_set_static_help (procedure,
                                  "Set brush size in pixels.",
                                  "Set the brush size in pixels for brush based paint tools.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Ed Swartz",
                                         "Ed Swartz",
                                         "2012");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_double ("size",
                                                    "size",
                                                    "Brush size in pixels",
                                                    1, 10000, 1,
                                                    LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-brush-default-size
   */
  procedure = ligma_procedure_new (context_set_brush_default_size_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-brush-default-size");
  ligma_procedure_set_static_help (procedure,
                                  "Set brush size to its default.",
                                  "Set the brush size to the default (max of width and height) for paintbrush, airbrush, or pencil tools.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Ed Swartz",
                                         "Ed Swartz",
                                         "2012");
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-brush-aspect-ratio
   */
  procedure = ligma_procedure_new (context_get_brush_aspect_ratio_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-brush-aspect-ratio");
  ligma_procedure_set_static_help (procedure,
                                  "Get brush aspect ratio.",
                                  "Set the aspect ratio for brush based paint tools.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Ed Swartz",
                                         "Ed Swartz",
                                         "2012");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_double ("aspect",
                                                        "aspect",
                                                        "Aspect ratio",
                                                        -20, 20, -20,
                                                        LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-brush-aspect-ratio
   */
  procedure = ligma_procedure_new (context_set_brush_aspect_ratio_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-brush-aspect-ratio");
  ligma_procedure_set_static_help (procedure,
                                  "Set brush aspect ratio.",
                                  "Set the aspect ratio for brush based paint tools.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Ed Swartz",
                                         "Ed Swartz",
                                         "2012");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_double ("aspect",
                                                    "aspect",
                                                    "Aspect ratio",
                                                    -20, 20, -20,
                                                    LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-brush-angle
   */
  procedure = ligma_procedure_new (context_get_brush_angle_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-brush-angle");
  ligma_procedure_set_static_help (procedure,
                                  "Get brush angle in degrees.",
                                  "Set the angle in degrees for brush based paint tools.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Ed Swartz",
                                         "Ed Swartz",
                                         "2012");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_double ("angle",
                                                        "angle",
                                                        "Angle in degrees",
                                                        -180, 180, -180,
                                                        LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-brush-angle
   */
  procedure = ligma_procedure_new (context_set_brush_angle_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-brush-angle");
  ligma_procedure_set_static_help (procedure,
                                  "Set brush angle in degrees.",
                                  "Set the angle in degrees for brush based paint tools.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Ed Swartz",
                                         "Ed Swartz",
                                         "2012");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_double ("angle",
                                                    "angle",
                                                    "Angle in degrees",
                                                    -180, 180, -180,
                                                    LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-brush-spacing
   */
  procedure = ligma_procedure_new (context_get_brush_spacing_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-brush-spacing");
  ligma_procedure_set_static_help (procedure,
                                  "Get brush spacing as percent of size.",
                                  "Get the brush spacing as percent of size for brush based paint tools.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Alexia Death",
                                         "Alexia Death",
                                         "2014");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_double ("spacing",
                                                        "spacing",
                                                        "Brush spacing as fraction of size",
                                                        0.01, 50.0, 0.01,
                                                        LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-brush-spacing
   */
  procedure = ligma_procedure_new (context_set_brush_spacing_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-brush-spacing");
  ligma_procedure_set_static_help (procedure,
                                  "Set brush spacing as percent of size.",
                                  "Set the brush spacing as percent of size for brush based paint tools.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Alexia Death",
                                         "Alexia Death",
                                         "2014");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_double ("spacing",
                                                    "spacing",
                                                    "Brush spacing as fraction of size",
                                                    0.01, 50.0, 0.01,
                                                    LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-brush-default-spacing
   */
  procedure = ligma_procedure_new (context_set_brush_default_spacing_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-brush-default-spacing");
  ligma_procedure_set_static_help (procedure,
                                  "Set brush spacing to its default.",
                                  "Set the brush spacing to the default for paintbrush, airbrush, or pencil tools.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Alexia Death",
                                         "Alexia Death",
                                         "2014");
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-brush-hardness
   */
  procedure = ligma_procedure_new (context_get_brush_hardness_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-brush-hardness");
  ligma_procedure_set_static_help (procedure,
                                  "Get brush hardness in paint options.",
                                  "Get the brush hardness for brush based paint tools.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Alexia Death",
                                         "Alexia Death",
                                         "2014");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_double ("hardness",
                                                        "hardness",
                                                        "Brush hardness",
                                                        0.0, 1.0, 0.0,
                                                        LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-brush-hardness
   */
  procedure = ligma_procedure_new (context_set_brush_hardness_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-brush-hardness");
  ligma_procedure_set_static_help (procedure,
                                  "Set brush hardness.",
                                  "Set the brush hardness for brush based paint tools.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Alexia Death",
                                         "Alexia Death",
                                         "2014");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_double ("hardness",
                                                    "hardness",
                                                    "Brush hardness",
                                                    0.0, 1.0, 0.0,
                                                    LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-brush-default-hardness
   */
  procedure = ligma_procedure_new (context_set_brush_default_hardness_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-brush-default-hardness");
  ligma_procedure_set_static_help (procedure,
                                  "Set brush spacing to its default.",
                                  "Set the brush spacing to the default for paintbrush, airbrush, or pencil tools.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Alexia Death",
                                         "Alexia Death",
                                         "2014");
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-brush-force
   */
  procedure = ligma_procedure_new (context_get_brush_force_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-brush-force");
  ligma_procedure_set_static_help (procedure,
                                  "Get brush force in paint options.",
                                  "Get the brush application force for brush based paint tools.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Alexia Death",
                                         "Alexia Death",
                                         "2014");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_double ("force",
                                                        "force",
                                                        "Brush application force",
                                                        0.0, 1.0, 0.0,
                                                        LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-brush-force
   */
  procedure = ligma_procedure_new (context_set_brush_force_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-brush-force");
  ligma_procedure_set_static_help (procedure,
                                  "Set brush application force.",
                                  "Set the brush application force for brush based paint tools.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Alexia Death",
                                         "Alexia Death",
                                         "2014");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_double ("force",
                                                    "force",
                                                    "Brush application force",
                                                    0.0, 1.0, 0.0,
                                                    LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-dynamics
   */
  procedure = ligma_procedure_new (context_get_dynamics_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-dynamics");
  ligma_procedure_set_static_help (procedure,
                                  "Retrieve the currently active paint dynamics.",
                                  "This procedure returns the name of the currently active paint dynamics. If enabled, all paint operations and stroke operations use this paint dynamics to control the application of paint to the image. If disabled, the dynamics will be ignored during paint actions.\n"
                                  "See 'ligma-context-are-dynamics-enabled' to enquire whether dynamics are used or ignored.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2011");
  ligma_procedure_add_return_value (procedure,
                                   ligma_param_spec_string ("name",
                                                           "name",
                                                           "The name of the active paint dynamics",
                                                           FALSE, FALSE, FALSE,
                                                           NULL,
                                                           LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-dynamics
   */
  procedure = ligma_procedure_new (context_set_dynamics_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-dynamics");
  ligma_procedure_set_static_help (procedure,
                                  "Set the specified paint dynamics as the active paint dynamics.",
                                  "This procedure allows the active paint dynamics to be set by specifying its name. The name is simply a string which corresponds to one of the names of the installed paint dynamics. If there is no matching paint dynamics found, this procedure will return an error. Otherwise, the specified paint dynamics becomes active and will be used in all subsequent paint operations as long as dynamics are enabled.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2011");
  ligma_procedure_add_argument (procedure,
                               ligma_param_spec_string ("name",
                                                       "name",
                                                       "The name of the paint dynamics",
                                                       FALSE, FALSE, TRUE,
                                                       NULL,
                                                       LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-are-dynamics-enabled
   */
  procedure = ligma_procedure_new (context_are_dynamics_enabled_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-are-dynamics-enabled");
  ligma_procedure_set_static_help (procedure,
                                  "Inform whether the currently active paint dynamics will be applied to painting.",
                                  "This procedure returns whether the currently active paint dynamics (as returned by 'ligma-context-get-dynamics') is enabled.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Jehan",
                                         "Jehan",
                                         "2022");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_boolean ("enabled",
                                                         "enabled",
                                                         "Whether dynamics enabled or disabled",
                                                         FALSE,
                                                         LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-enable-dynamics
   */
  procedure = ligma_procedure_new (context_enable_dynamics_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-enable-dynamics");
  ligma_procedure_set_static_help (procedure,
                                  "Set the specified paint dynamics as the active paint dynamics.",
                                  "This procedure enables the active paint dynamics to be used in all subsequent paint operations.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Jehan",
                                         "Jehan",
                                         "2022");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_boolean ("enable",
                                                     "enable",
                                                     "Whether to enable or disable dynamics",
                                                     FALSE,
                                                     LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-mypaint-brush
   */
  procedure = ligma_procedure_new (context_get_mypaint_brush_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-mypaint-brush");
  ligma_procedure_set_static_help (procedure,
                                  "Retrieve the currently active MyPaint brush.",
                                  "This procedure returns the name of the currently active MyPaint brush.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2016");
  ligma_procedure_add_return_value (procedure,
                                   ligma_param_spec_string ("name",
                                                           "name",
                                                           "The name of the active MyPaint brush",
                                                           FALSE, FALSE, FALSE,
                                                           NULL,
                                                           LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-mypaint-brush
   */
  procedure = ligma_procedure_new (context_set_mypaint_brush_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-mypaint-brush");
  ligma_procedure_set_static_help (procedure,
                                  "Set the specified MyPaint brush as the active MyPaint brush.",
                                  "This procedure allows the active MyPaint brush to be set by specifying its name. The name is simply a string which corresponds to one of the names of the installed MyPaint brushes. If there is no matching MyPaint brush found, this procedure will return an error. Otherwise, the specified MyPaint brush becomes active and will be used in all subsequent MyPaint paint operations.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2016");
  ligma_procedure_add_argument (procedure,
                               ligma_param_spec_string ("name",
                                                       "name",
                                                       "The name of the MyPaint brush",
                                                       FALSE, FALSE, TRUE,
                                                       NULL,
                                                       LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-pattern
   */
  procedure = ligma_procedure_new (context_get_pattern_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-pattern");
  ligma_procedure_set_static_help (procedure,
                                  "Retrieve the currently active pattern.",
                                  "This procedure returns name of the the currently active pattern. All clone and bucket-fill operations with patterns will use this pattern to control the application of paint to the image.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org> & Sven Neumann <sven@ligma.org>",
                                         "Michael Natterer & Sven Neumann",
                                         "2004");
  ligma_procedure_add_return_value (procedure,
                                   ligma_param_spec_string ("name",
                                                           "name",
                                                           "The name of the active pattern",
                                                           FALSE, FALSE, FALSE,
                                                           NULL,
                                                           LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-pattern
   */
  procedure = ligma_procedure_new (context_set_pattern_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-pattern");
  ligma_procedure_set_static_help (procedure,
                                  "Set the specified pattern as the active pattern.",
                                  "This procedure allows the active pattern to be set by specifying its name. The name is simply a string which corresponds to one of the names of the installed patterns. If there is no matching pattern found, this procedure will return an error. Otherwise, the specified pattern becomes active and will be used in all subsequent paint operations.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org> & Sven Neumann <sven@ligma.org>",
                                         "Michael Natterer & Sven Neumann",
                                         "2004");
  ligma_procedure_add_argument (procedure,
                               ligma_param_spec_string ("name",
                                                       "name",
                                                       "The name of the pattern",
                                                       FALSE, FALSE, TRUE,
                                                       NULL,
                                                       LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-gradient
   */
  procedure = ligma_procedure_new (context_get_gradient_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-gradient");
  ligma_procedure_set_static_help (procedure,
                                  "Retrieve the currently active gradient.",
                                  "This procedure returns the name of the currently active gradient.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org> & Sven Neumann <sven@ligma.org>",
                                         "Michael Natterer & Sven Neumann",
                                         "2004");
  ligma_procedure_add_return_value (procedure,
                                   ligma_param_spec_string ("name",
                                                           "name",
                                                           "The name of the active gradient",
                                                           FALSE, FALSE, FALSE,
                                                           NULL,
                                                           LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-gradient
   */
  procedure = ligma_procedure_new (context_set_gradient_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-gradient");
  ligma_procedure_set_static_help (procedure,
                                  "Sets the specified gradient as the active gradient.",
                                  "This procedure lets you set the specified gradient as the active or \"current\" one. The name is simply a string which corresponds to one of the loaded gradients. If no matching gradient is found, this procedure will return an error. Otherwise, the specified gradient will become active and will be used for subsequent custom gradient operations.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org> & Sven Neumann <sven@ligma.org>",
                                         "Michael Natterer & Sven Neumann",
                                         "2004");
  ligma_procedure_add_argument (procedure,
                               ligma_param_spec_string ("name",
                                                       "name",
                                                       "The name of the gradient",
                                                       FALSE, FALSE, TRUE,
                                                       NULL,
                                                       LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-gradient-fg-bg-rgb
   */
  procedure = ligma_procedure_new (context_set_gradient_fg_bg_rgb_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-gradient-fg-bg-rgb");
  ligma_procedure_set_static_help (procedure,
                                  "Sets the built-in FG-BG RGB gradient as the active gradient.",
                                  "This procedure sets the built-in FG-BG RGB gradient as the active gradient. The gradient will be used for subsequent gradient operations.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2018");
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-gradient-fg-bg-hsv-cw
   */
  procedure = ligma_procedure_new (context_set_gradient_fg_bg_hsv_cw_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-gradient-fg-bg-hsv-cw");
  ligma_procedure_set_static_help (procedure,
                                  "Sets the built-in FG-BG HSV (cw) gradient as the active gradient.",
                                  "This procedure sets the built-in FG-BG HSV (cw) gradient as the active gradient. The gradient will be used for subsequent gradient operations.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2018");
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-gradient-fg-bg-hsv-ccw
   */
  procedure = ligma_procedure_new (context_set_gradient_fg_bg_hsv_ccw_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-gradient-fg-bg-hsv-ccw");
  ligma_procedure_set_static_help (procedure,
                                  "Sets the built-in FG-BG HSV (ccw) gradient as the active gradient.",
                                  "This procedure sets the built-in FG-BG HSV (ccw) gradient as the active gradient. The gradient will be used for subsequent gradient operations.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2018");
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-gradient-fg-transparent
   */
  procedure = ligma_procedure_new (context_set_gradient_fg_transparent_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-gradient-fg-transparent");
  ligma_procedure_set_static_help (procedure,
                                  "Sets the built-in FG-Transparent gradient as the active gradient.",
                                  "This procedure sets the built-in FG-Transparent gradient as the active gradient. The gradient will be used for subsequent gradient operations.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2018");
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-gradient-blend-color-space
   */
  procedure = ligma_procedure_new (context_get_gradient_blend_color_space_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-gradient-blend-color-space");
  ligma_procedure_set_static_help (procedure,
                                  "Get the gradient blend color space.",
                                  "Get the gradient blend color space for paint tools and the gradient tool.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2018");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_enum ("blend-color-space",
                                                      "blend color space",
                                                      "Color blend space",
                                                      LIGMA_TYPE_GRADIENT_BLEND_COLOR_SPACE,
                                                      LIGMA_GRADIENT_BLEND_RGB_PERCEPTUAL,
                                                      LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-gradient-blend-color-space
   */
  procedure = ligma_procedure_new (context_set_gradient_blend_color_space_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-gradient-blend-color-space");
  ligma_procedure_set_static_help (procedure,
                                  "Set the gradient blend color space.",
                                  "Set the gradient blend color space for paint tools and the gradient tool.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2018");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_enum ("blend-color-space",
                                                  "blend color space",
                                                  "Blend color space",
                                                  LIGMA_TYPE_GRADIENT_BLEND_COLOR_SPACE,
                                                  LIGMA_GRADIENT_BLEND_RGB_PERCEPTUAL,
                                                  LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-gradient-repeat-mode
   */
  procedure = ligma_procedure_new (context_get_gradient_repeat_mode_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-gradient-repeat-mode");
  ligma_procedure_set_static_help (procedure,
                                  "Get the gradient repeat mode.",
                                  "Get the gradient repeat mode for paint tools and the gradient tool.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2018");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_enum ("repeat-mode",
                                                      "repeat mode",
                                                      "Repeat mode",
                                                      LIGMA_TYPE_REPEAT_MODE,
                                                      LIGMA_REPEAT_NONE,
                                                      LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-gradient-repeat-mode
   */
  procedure = ligma_procedure_new (context_set_gradient_repeat_mode_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-gradient-repeat-mode");
  ligma_procedure_set_static_help (procedure,
                                  "Set the gradient repeat mode.",
                                  "Set the gradient repeat mode for paint tools and the gradient tool.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2018");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_enum ("repeat-mode",
                                                  "repeat mode",
                                                  "Repeat mode",
                                                  LIGMA_TYPE_REPEAT_MODE,
                                                  LIGMA_REPEAT_NONE,
                                                  LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-gradient-reverse
   */
  procedure = ligma_procedure_new (context_get_gradient_reverse_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-gradient-reverse");
  ligma_procedure_set_static_help (procedure,
                                  "Get the gradient reverse setting.",
                                  "Get the gradient reverse setting for paint tools and the gradient tool.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2018");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_boolean ("reverse",
                                                         "reverse",
                                                         "Reverse",
                                                         FALSE,
                                                         LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-gradient-reverse
   */
  procedure = ligma_procedure_new (context_set_gradient_reverse_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-gradient-reverse");
  ligma_procedure_set_static_help (procedure,
                                  "Set the gradient reverse setting.",
                                  "Set the gradient reverse setting for paint tools and the gradient tool.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2018");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_boolean ("reverse",
                                                     "reverse",
                                                     "Reverse",
                                                     FALSE,
                                                     LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-palette
   */
  procedure = ligma_procedure_new (context_get_palette_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-palette");
  ligma_procedure_set_static_help (procedure,
                                  "Retrieve the currently active palette.",
                                  "This procedure returns the name of the the currently active palette.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org> & Sven Neumann <sven@ligma.org>",
                                         "Michael Natterer & Sven Neumann",
                                         "2004");
  ligma_procedure_add_return_value (procedure,
                                   ligma_param_spec_string ("name",
                                                           "name",
                                                           "The name of the active palette",
                                                           FALSE, FALSE, FALSE,
                                                           NULL,
                                                           LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-palette
   */
  procedure = ligma_procedure_new (context_set_palette_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-palette");
  ligma_procedure_set_static_help (procedure,
                                  "Set the specified palette as the active palette.",
                                  "This procedure allows the active palette to be set by specifying its name. The name is simply a string which corresponds to one of the names of the installed palettes. If no matching palette is found, this procedure will return an error. Otherwise, the specified palette becomes active and will be used in all subsequent palette operations.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org> & Sven Neumann <sven@ligma.org>",
                                         "Michael Natterer & Sven Neumann",
                                         "2004");
  ligma_procedure_add_argument (procedure,
                               ligma_param_spec_string ("name",
                                                       "name",
                                                       "The name of the palette",
                                                       FALSE, FALSE, TRUE,
                                                       NULL,
                                                       LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-font
   */
  procedure = ligma_procedure_new (context_get_font_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-font");
  ligma_procedure_set_static_help (procedure,
                                  "Retrieve the currently active font.",
                                  "This procedure returns the name of the currently active font.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org> & Sven Neumann <sven@ligma.org>",
                                         "Michael Natterer & Sven Neumann",
                                         "2004");
  ligma_procedure_add_return_value (procedure,
                                   ligma_param_spec_string ("name",
                                                           "name",
                                                           "The name of the active font",
                                                           FALSE, FALSE, FALSE,
                                                           NULL,
                                                           LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-font
   */
  procedure = ligma_procedure_new (context_set_font_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-font");
  ligma_procedure_set_static_help (procedure,
                                  "Set the specified font as the active font.",
                                  "This procedure allows the active font to be set by specifying its name. The name is simply a string which corresponds to one of the names of the installed fonts. If no matching font is found, this procedure will return an error. Otherwise, the specified font becomes active and will be used in all subsequent font operations.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org> & Sven Neumann <sven@ligma.org>",
                                         "Michael Natterer & Sven Neumann",
                                         "2004");
  ligma_procedure_add_argument (procedure,
                               ligma_param_spec_string ("name",
                                                       "name",
                                                       "The name of the font",
                                                       FALSE, FALSE, TRUE,
                                                       NULL,
                                                       LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-antialias
   */
  procedure = ligma_procedure_new (context_get_antialias_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-antialias");
  ligma_procedure_set_static_help (procedure,
                                  "Get the antialias setting.",
                                  "This procedure returns the antialias setting.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2010");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_boolean ("antialias",
                                                         "antialias",
                                                         "The antialias setting",
                                                         FALSE,
                                                         LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-antialias
   */
  procedure = ligma_procedure_new (context_set_antialias_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-antialias");
  ligma_procedure_set_static_help (procedure,
                                  "Set the antialias setting.",
                                  "This procedure modifies the antialias setting. If antialiasing is turned on, the edges of selected region will contain intermediate values which give the appearance of a sharper, less pixelized edge. This should be set as TRUE most of the time unless a binary-only selection is wanted.\n"
                                  "\n"
                                  "This setting affects the following procedures: 'ligma-image-select-color', 'ligma-image-select-contiguous-color', 'ligma-image-select-round-rectangle', 'ligma-image-select-ellipse', 'ligma-image-select-polygon', 'ligma-image-select-item', 'ligma-drawable-edit-bucket-fill', 'ligma-drawable-edit-stroke-item', 'ligma-drawable-edit-stroke-selection'.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2010");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_boolean ("antialias",
                                                     "antialias",
                                                     "The antialias setting",
                                                     FALSE,
                                                     LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-feather
   */
  procedure = ligma_procedure_new (context_get_feather_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-feather");
  ligma_procedure_set_static_help (procedure,
                                  "Get the feather setting.",
                                  "This procedure returns the feather setting.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2010");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_boolean ("feather",
                                                         "feather",
                                                         "The feather setting",
                                                         FALSE,
                                                         LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-feather
   */
  procedure = ligma_procedure_new (context_set_feather_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-feather");
  ligma_procedure_set_static_help (procedure,
                                  "Set the feather setting.",
                                  "This procedure modifies the feather setting. If the feather option is enabled, selections will be blurred before combining. The blur is a gaussian blur; its radii can be controlled using 'ligma-context-set-feather-radius'.\n"
                                  "\n"
                                  "This setting affects the following procedures: 'ligma-image-select-color', 'ligma-image-select-contiguous-color', 'ligma-image-select-rectangle', 'ligma-image-select-round-rectangle', 'ligma-image-select-ellipse', 'ligma-image-select-polygon', 'ligma-image-select-item'.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2010");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_boolean ("feather",
                                                     "feather",
                                                     "The feather setting",
                                                     FALSE,
                                                     LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-feather-radius
   */
  procedure = ligma_procedure_new (context_get_feather_radius_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-feather-radius");
  ligma_procedure_set_static_help (procedure,
                                  "Get the feather radius setting.",
                                  "This procedure returns the feather radius setting.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2010");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_double ("feather-radius-x",
                                                        "feather radius x",
                                                        "The horizontal feather radius",
                                                        0, 1000, 0,
                                                        LIGMA_PARAM_READWRITE));
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_double ("feather-radius-y",
                                                        "feather radius y",
                                                        "The vertical feather radius",
                                                        0, 1000, 0,
                                                        LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-feather-radius
   */
  procedure = ligma_procedure_new (context_set_feather_radius_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-feather-radius");
  ligma_procedure_set_static_help (procedure,
                                  "Set the feather radius setting.",
                                  "This procedure modifies the feather radius setting.\n"
                                  "\n"
                                  "This setting affects all procedures that are affected by 'ligma-context-set-feather'.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2010");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_double ("feather-radius-x",
                                                    "feather radius x",
                                                    "The horizontal feather radius",
                                                    0, 1000, 0,
                                                    LIGMA_PARAM_READWRITE));
  ligma_procedure_add_argument (procedure,
                               g_param_spec_double ("feather-radius-y",
                                                    "feather radius y",
                                                    "The vertical feather radius",
                                                    0, 1000, 0,
                                                    LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-sample-merged
   */
  procedure = ligma_procedure_new (context_get_sample_merged_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-sample-merged");
  ligma_procedure_set_static_help (procedure,
                                  "Get the sample merged setting.",
                                  "This procedure returns the sample merged setting.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2011");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_boolean ("sample-merged",
                                                         "sample merged",
                                                         "The sample merged setting",
                                                         FALSE,
                                                         LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-sample-merged
   */
  procedure = ligma_procedure_new (context_set_sample_merged_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-sample-merged");
  ligma_procedure_set_static_help (procedure,
                                  "Set the sample merged setting.",
                                  "This procedure modifies the sample merged setting. If an operation depends on the colors of the pixels present in a drawable, like when doing a seed fill, this setting controls whether the pixel data from the specified drawable is used ('sample-merged' is FALSE), or the pixel data from the composite image ('sample-merged' is TRUE. This is equivalent to sampling for colors after merging all visible layers).\n"
                                  "\n"
                                  "This setting affects the following procedures: 'ligma-image-select-color', 'ligma-image-select-contiguous-color', 'ligma-drawable-edit-bucket-fill'.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2011");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_boolean ("sample-merged",
                                                     "sample merged",
                                                     "The sample merged setting",
                                                     FALSE,
                                                     LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-sample-criterion
   */
  procedure = ligma_procedure_new (context_get_sample_criterion_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-sample-criterion");
  ligma_procedure_set_static_help (procedure,
                                  "Get the sample criterion setting.",
                                  "This procedure returns the sample criterion setting.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2011");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_enum ("sample-criterion",
                                                      "sample criterion",
                                                      "The sample criterion setting",
                                                      LIGMA_TYPE_SELECT_CRITERION,
                                                      LIGMA_SELECT_CRITERION_COMPOSITE,
                                                      LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-sample-criterion
   */
  procedure = ligma_procedure_new (context_set_sample_criterion_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-sample-criterion");
  ligma_procedure_set_static_help (procedure,
                                  "Set the sample criterion setting.",
                                  "This procedure modifies the sample criterion setting. If an operation depends on the colors of the pixels present in a drawable, like when doing a seed fill, this setting controls how color similarity is determined. SELECT_CRITERION_COMPOSITE is the default value.\n"
                                  "\n"
                                  "This setting affects the following procedures: 'ligma-image-select-color', 'ligma-image-select-contiguous-color', 'ligma-drawable-edit-bucket-fill'.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2011");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_enum ("sample-criterion",
                                                  "sample criterion",
                                                  "The sample criterion setting",
                                                  LIGMA_TYPE_SELECT_CRITERION,
                                                  LIGMA_SELECT_CRITERION_COMPOSITE,
                                                  LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-sample-threshold
   */
  procedure = ligma_procedure_new (context_get_sample_threshold_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-sample-threshold");
  ligma_procedure_set_static_help (procedure,
                                  "Get the sample threshold setting.",
                                  "This procedure returns the sample threshold setting.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2011");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_double ("sample-threshold",
                                                        "sample threshold",
                                                        "The sample threshold setting",
                                                        0.0, 1.0, 0.0,
                                                        LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-sample-threshold
   */
  procedure = ligma_procedure_new (context_set_sample_threshold_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-sample-threshold");
  ligma_procedure_set_static_help (procedure,
                                  "Set the sample threshold setting.",
                                  "This procedure modifies the sample threshold setting. If an operation depends on the colors of the pixels present in a drawable, like when doing a seed fill, this setting controls what is \"sufficiently close\" to be considered a similar color. If the sample threshold has not been set explicitly, the default threshold set in ligmarc will be used.\n"
                                  "\n"
                                  "This setting affects the following procedures: 'ligma-image-select-color', 'ligma-image-select-contiguous-color', 'ligma-drawable-edit-bucket-fill'.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2011");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_double ("sample-threshold",
                                                    "sample threshold",
                                                    "The sample threshold setting",
                                                    0.0, 1.0, 0.0,
                                                    LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-sample-threshold-int
   */
  procedure = ligma_procedure_new (context_get_sample_threshold_int_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-sample-threshold-int");
  ligma_procedure_set_static_help (procedure,
                                  "Get the sample threshold setting as an integer value.",
                                  "This procedure returns the sample threshold setting as an integer value. See 'ligma-context-get-sample-threshold'.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2011");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_int ("sample-threshold",
                                                     "sample threshold",
                                                     "The sample threshold setting",
                                                     0, 255, 0,
                                                     LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-sample-threshold-int
   */
  procedure = ligma_procedure_new (context_set_sample_threshold_int_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-sample-threshold-int");
  ligma_procedure_set_static_help (procedure,
                                  "Set the sample threshold setting as an integer value.",
                                  "This procedure modifies the sample threshold setting as an integer value. See 'ligma-context-set-sample-threshold'.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2011");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_int ("sample-threshold",
                                                 "sample threshold",
                                                 "The sample threshold setting",
                                                 0, 255, 0,
                                                 LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-sample-transparent
   */
  procedure = ligma_procedure_new (context_get_sample_transparent_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-sample-transparent");
  ligma_procedure_set_static_help (procedure,
                                  "Get the sample transparent setting.",
                                  "This procedure returns the sample transparent setting.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2011");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_boolean ("sample-transparent",
                                                         "sample transparent",
                                                         "The sample transparent setting",
                                                         FALSE,
                                                         LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-sample-transparent
   */
  procedure = ligma_procedure_new (context_set_sample_transparent_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-sample-transparent");
  ligma_procedure_set_static_help (procedure,
                                  "Set the sample transparent setting.",
                                  "This procedure modifies the sample transparent setting. If an operation depends on the colors of the pixels present in a drawable, like when doing a seed fill, this setting controls whether transparency is considered to be a unique selectable color. When this setting is TRUE, transparent areas can be selected or filled.\n"
                                  "\n"
                                  "This setting affects the following procedures: 'ligma-image-select-color', 'ligma-image-select-contiguous-color', 'ligma-drawable-edit-bucket-fill'.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2011");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_boolean ("sample-transparent",
                                                     "sample transparent",
                                                     "The sample transparent setting",
                                                     FALSE,
                                                     LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-diagonal-neighbors
   */
  procedure = ligma_procedure_new (context_get_diagonal_neighbors_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-diagonal-neighbors");
  ligma_procedure_set_static_help (procedure,
                                  "Get the diagonal neighbors setting.",
                                  "This procedure returns the diagonal neighbors setting.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Ell",
                                         "Ell",
                                         "2016");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_boolean ("diagonal-neighbors",
                                                         "diagonal neighbors",
                                                         "The diagonal neighbors setting",
                                                         FALSE,
                                                         LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-diagonal-neighbors
   */
  procedure = ligma_procedure_new (context_set_diagonal_neighbors_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-diagonal-neighbors");
  ligma_procedure_set_static_help (procedure,
                                  "Set the diagonal neighbors setting.",
                                  "This procedure modifies the diagonal neighbors setting. If the affected region of an operation is based on a seed point, like when doing a seed fill, then, when this setting is TRUE, all eight neighbors of each pixel are considered when calculating the affected region; in contrast, when this setting is FALSE, only the four orthogonal neighbors of each pixel are considered.\n"
                                  "\n"
                                  "This setting affects the following procedures: 'ligma-image-select-contiguous-color', 'ligma-drawable-edit-bucket-fill'.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Ell",
                                         "Ell",
                                         "2016");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_boolean ("diagonal-neighbors",
                                                     "diagonal neighbors",
                                                     "The diagonal neighbors setting",
                                                     FALSE,
                                                     LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-distance-metric
   */
  procedure = ligma_procedure_new (context_get_distance_metric_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-distance-metric");
  ligma_procedure_set_static_help (procedure,
                                  "Get the distance metric used in some computations.",
                                  "This procedure returns the distance metric in the current context. See 'ligma-context-set-distance-metric' to know more about its usage.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Jehan",
                                         "Jehan",
                                         "2018");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_enum ("metric",
                                                      "metric",
                                                      "The distance metric",
                                                      GEGL_TYPE_DISTANCE_METRIC,
                                                      GEGL_DISTANCE_METRIC_EUCLIDEAN,
                                                      LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-distance-metric
   */
  procedure = ligma_procedure_new (context_set_distance_metric_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-distance-metric");
  ligma_procedure_set_static_help (procedure,
                                  "Set the distance metric used in some computations.",
                                  "This procedure modifies the distance metric used in some computations, such as 'ligma-drawable-edit-gradient-fill'. In particular, it does not change the metric used in generic distance computation on canvas, as in the Measure tool.\n"
                                  "\n"
                                  "This setting affects the following procedures: 'ligma-drawable-edit-gradient-fill'.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Jehan",
                                         "Jehan",
                                         "2018");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_enum ("metric",
                                                  "metric",
                                                  "The distance metric",
                                                  GEGL_TYPE_DISTANCE_METRIC,
                                                  GEGL_DISTANCE_METRIC_EUCLIDEAN,
                                                  LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-interpolation
   */
  procedure = ligma_procedure_new (context_get_interpolation_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-interpolation");
  ligma_procedure_set_static_help (procedure,
                                  "Get the interpolation type.",
                                  "This procedure returns the interpolation setting. The return value is an integer which corresponds to the values listed in the argument description. If the interpolation has not been set explicitly by 'ligma-context-set-interpolation', the default interpolation set in ligmarc will be used.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2010");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_enum ("interpolation",
                                                      "interpolation",
                                                      "The interpolation type",
                                                      LIGMA_TYPE_INTERPOLATION_TYPE,
                                                      LIGMA_INTERPOLATION_NONE,
                                                      LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-interpolation
   */
  procedure = ligma_procedure_new (context_set_interpolation_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-interpolation");
  ligma_procedure_set_static_help (procedure,
                                  "Set the interpolation type.",
                                  "This procedure modifies the interpolation setting.\n"
                                  "\n"
                                  "This setting affects affects the following procedures: 'ligma-item-transform-flip', 'ligma-item-transform-perspective', 'ligma-item-transform-rotate', 'ligma-item-transform-scale', 'ligma-item-transform-shear', 'ligma-item-transform-2d', 'ligma-item-transform-matrix', 'ligma-image-scale', 'ligma-layer-scale'.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2010");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_enum ("interpolation",
                                                  "interpolation",
                                                  "The interpolation type",
                                                  LIGMA_TYPE_INTERPOLATION_TYPE,
                                                  LIGMA_INTERPOLATION_NONE,
                                                  LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-transform-direction
   */
  procedure = ligma_procedure_new (context_get_transform_direction_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-transform-direction");
  ligma_procedure_set_static_help (procedure,
                                  "Get the transform direction.",
                                  "This procedure returns the transform direction. The return value is an integer which corresponds to the values listed in the argument description.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2010");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_enum ("transform-direction",
                                                      "transform direction",
                                                      "The transform direction",
                                                      LIGMA_TYPE_TRANSFORM_DIRECTION,
                                                      LIGMA_TRANSFORM_FORWARD,
                                                      LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-transform-direction
   */
  procedure = ligma_procedure_new (context_set_transform_direction_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-transform-direction");
  ligma_procedure_set_static_help (procedure,
                                  "Set the transform direction.",
                                  "This procedure modifies the transform direction setting.\n"
                                  "\n"
                                  "This setting affects affects the following procedures: 'ligma-item-transform-flip', 'ligma-item-transform-perspective', 'ligma-item-transform-rotate', 'ligma-item-transform-scale', 'ligma-item-transform-shear', 'ligma-item-transform-2d', 'ligma-item-transform-matrix'.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2010");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_enum ("transform-direction",
                                                  "transform direction",
                                                  "The transform direction",
                                                  LIGMA_TYPE_TRANSFORM_DIRECTION,
                                                  LIGMA_TRANSFORM_FORWARD,
                                                  LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-transform-resize
   */
  procedure = ligma_procedure_new (context_get_transform_resize_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-transform-resize");
  ligma_procedure_set_static_help (procedure,
                                  "Get the transform resize type.",
                                  "This procedure returns the transform resize setting. The return value is an integer which corresponds to the values listed in the argument description.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2010");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_enum ("transform-resize",
                                                      "transform resize",
                                                      "The transform resize type",
                                                      LIGMA_TYPE_TRANSFORM_RESIZE,
                                                      LIGMA_TRANSFORM_RESIZE_ADJUST,
                                                      LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-transform-resize
   */
  procedure = ligma_procedure_new (context_set_transform_resize_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-transform-resize");
  ligma_procedure_set_static_help (procedure,
                                  "Set the transform resize type.",
                                  "This procedure modifies the transform resize setting. When transforming pixels, if the result of a transform operation has a different size than the original area, this setting determines how the resulting area is sized.\n"
                                  "\n"
                                  "This setting affects affects the following procedures: 'ligma-item-transform-flip', 'ligma-item-transform-flip-simple', 'ligma-item-transform-perspective', 'ligma-item-transform-rotate', 'ligma-item-transform-rotate-simple', 'ligma-item-transform-scale', 'ligma-item-transform-shear', 'ligma-item-transform-2d', 'ligma-item-transform-matrix'.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Michael Natterer <mitch@ligma.org>",
                                         "Michael Natterer",
                                         "2010");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_enum ("transform-resize",
                                                  "transform resize",
                                                  "The transform resize type",
                                                  LIGMA_TYPE_TRANSFORM_RESIZE,
                                                  LIGMA_TRANSFORM_RESIZE_ADJUST,
                                                  LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-ink-size
   */
  procedure = ligma_procedure_new (context_get_ink_size_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-ink-size");
  ligma_procedure_set_static_help (procedure,
                                  "Get ink blob size in pixels.",
                                  "Get the ink blob size in pixels for ink tool.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Ed Swartz",
                                         "Ed Swartz",
                                         "2012");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_double ("size",
                                                        "size",
                                                        "ink blob size in pixels",
                                                        0, 200, 0,
                                                        LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-ink-size
   */
  procedure = ligma_procedure_new (context_set_ink_size_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-ink-size");
  ligma_procedure_set_static_help (procedure,
                                  "Set ink blob size in pixels.",
                                  "Set the ink blob size in pixels for ink tool.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Ed Swartz",
                                         "Ed Swartz",
                                         "2012");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_double ("size",
                                                    "size",
                                                    "ink blob size in pixels",
                                                    0, 200, 0,
                                                    LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-ink-angle
   */
  procedure = ligma_procedure_new (context_get_ink_angle_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-ink-angle");
  ligma_procedure_set_static_help (procedure,
                                  "Get ink angle in degrees.",
                                  "Get the ink angle in degrees for ink tool.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Ed Swartz",
                                         "Ed Swartz",
                                         "2012");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_double ("angle",
                                                        "angle",
                                                        "ink angle in degrees",
                                                        -90, 90, -90,
                                                        LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-ink-angle
   */
  procedure = ligma_procedure_new (context_set_ink_angle_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-ink-angle");
  ligma_procedure_set_static_help (procedure,
                                  "Set ink angle in degrees.",
                                  "Set the ink angle in degrees for ink tool.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Ed Swartz",
                                         "Ed Swartz",
                                         "2012");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_double ("angle",
                                                    "angle",
                                                    "ink angle in degrees",
                                                    -90, 90, -90,
                                                    LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-ink-size-sensitivity
   */
  procedure = ligma_procedure_new (context_get_ink_size_sensitivity_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-ink-size-sensitivity");
  ligma_procedure_set_static_help (procedure,
                                  "Get ink size sensitivity.",
                                  "Get the ink size sensitivity for ink tool.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Ed Swartz",
                                         "Ed Swartz",
                                         "2012");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_double ("size",
                                                        "size",
                                                        "ink size sensitivity",
                                                        0, 1, 0,
                                                        LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-ink-size-sensitivity
   */
  procedure = ligma_procedure_new (context_set_ink_size_sensitivity_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-ink-size-sensitivity");
  ligma_procedure_set_static_help (procedure,
                                  "Set ink size sensitivity.",
                                  "Set the ink size sensitivity for ink tool.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Ed Swartz",
                                         "Ed Swartz",
                                         "2012");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_double ("size",
                                                    "size",
                                                    "ink size sensitivity",
                                                    0, 1, 0,
                                                    LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-ink-tilt-sensitivity
   */
  procedure = ligma_procedure_new (context_get_ink_tilt_sensitivity_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-ink-tilt-sensitivity");
  ligma_procedure_set_static_help (procedure,
                                  "Get ink tilt sensitivity.",
                                  "Get the ink tilt sensitivity for ink tool.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Ed Swartz",
                                         "Ed Swartz",
                                         "2012");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_double ("tilt",
                                                        "tilt",
                                                        "ink tilt sensitivity",
                                                        0, 1, 0,
                                                        LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-ink-tilt-sensitivity
   */
  procedure = ligma_procedure_new (context_set_ink_tilt_sensitivity_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-ink-tilt-sensitivity");
  ligma_procedure_set_static_help (procedure,
                                  "Set ink tilt sensitivity.",
                                  "Set the ink tilt sensitivity for ink tool.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Ed Swartz",
                                         "Ed Swartz",
                                         "2012");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_double ("tilt",
                                                    "tilt",
                                                    "ink tilt sensitivity",
                                                    0, 1, 0,
                                                    LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-ink-speed-sensitivity
   */
  procedure = ligma_procedure_new (context_get_ink_speed_sensitivity_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-ink-speed-sensitivity");
  ligma_procedure_set_static_help (procedure,
                                  "Get ink speed sensitivity.",
                                  "Get the ink speed sensitivity for ink tool.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Ed Swartz",
                                         "Ed Swartz",
                                         "2012");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_double ("speed",
                                                        "speed",
                                                        "ink speed sensitivity",
                                                        0, 1, 0,
                                                        LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-ink-speed-sensitivity
   */
  procedure = ligma_procedure_new (context_set_ink_speed_sensitivity_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-ink-speed-sensitivity");
  ligma_procedure_set_static_help (procedure,
                                  "Set ink speed sensitivity.",
                                  "Set the ink speed sensitivity for ink tool.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Ed Swartz",
                                         "Ed Swartz",
                                         "2012");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_double ("speed",
                                                    "speed",
                                                    "ink speed sensitivity",
                                                    0, 1, 0,
                                                    LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-ink-blob-type
   */
  procedure = ligma_procedure_new (context_get_ink_blob_type_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-ink-blob-type");
  ligma_procedure_set_static_help (procedure,
                                  "Get ink blob type.",
                                  "Get the ink blob type for ink tool.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Ed Swartz",
                                         "Ed Swartz",
                                         "2012");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_enum ("type",
                                                      "type",
                                                      "Ink blob type",
                                                      LIGMA_TYPE_INK_BLOB_TYPE,
                                                      LIGMA_INK_BLOB_TYPE_CIRCLE,
                                                      LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-ink-blob-type
   */
  procedure = ligma_procedure_new (context_set_ink_blob_type_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-ink-blob-type");
  ligma_procedure_set_static_help (procedure,
                                  "Set ink blob type.",
                                  "Set the ink blob type for ink tool.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Ed Swartz",
                                         "Ed Swartz",
                                         "2012");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_enum ("type",
                                                  "type",
                                                  "Ink blob type",
                                                  LIGMA_TYPE_INK_BLOB_TYPE,
                                                  LIGMA_INK_BLOB_TYPE_CIRCLE,
                                                  LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-ink-blob-aspect-ratio
   */
  procedure = ligma_procedure_new (context_get_ink_blob_aspect_ratio_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-ink-blob-aspect-ratio");
  ligma_procedure_set_static_help (procedure,
                                  "Get ink blob aspect ratio.",
                                  "Get the ink blob aspect ratio for ink tool.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Ed Swartz",
                                         "Ed Swartz",
                                         "2012");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_double ("aspect",
                                                        "aspect",
                                                        "ink blob aspect ratio",
                                                        1, 10, 1,
                                                        LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-ink-blob-aspect-ratio
   */
  procedure = ligma_procedure_new (context_set_ink_blob_aspect_ratio_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-ink-blob-aspect-ratio");
  ligma_procedure_set_static_help (procedure,
                                  "Set ink blob aspect ratio.",
                                  "Set the ink blob aspect ratio for ink tool.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Ed Swartz",
                                         "Ed Swartz",
                                         "2012");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_double ("aspect",
                                                    "aspect",
                                                    "ink blob aspect ratio",
                                                    1, 10, 1,
                                                    LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-get-ink-blob-angle
   */
  procedure = ligma_procedure_new (context_get_ink_blob_angle_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-get-ink-blob-angle");
  ligma_procedure_set_static_help (procedure,
                                  "Get ink blob angle in degrees.",
                                  "Get the ink blob angle in degrees for ink tool.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Ed Swartz",
                                         "Ed Swartz",
                                         "2012");
  ligma_procedure_add_return_value (procedure,
                                   g_param_spec_double ("angle",
                                                        "angle",
                                                        "ink blob angle in degrees",
                                                        -180, 180, -180,
                                                        LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * ligma-context-set-ink-blob-angle
   */
  procedure = ligma_procedure_new (context_set_ink_blob_angle_invoker);
  ligma_object_set_static_name (LIGMA_OBJECT (procedure),
                               "ligma-context-set-ink-blob-angle");
  ligma_procedure_set_static_help (procedure,
                                  "Set ink blob angle in degrees.",
                                  "Set the ink blob angle in degrees for ink tool.",
                                  NULL);
  ligma_procedure_set_static_attribution (procedure,
                                         "Ed Swartz",
                                         "Ed Swartz",
                                         "2012");
  ligma_procedure_add_argument (procedure,
                               g_param_spec_double ("angle",
                                                    "angle",
                                                    "ink blob angle in degrees",
                                                    -180, 180, -180,
                                                    LIGMA_PARAM_READWRITE));
  ligma_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);
}
